<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Les fonctions avancées | Documentation de FMT</title>
    <link>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/</link>
      <atom:link href="https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/index.xml" rel="self" type="application/rss+xml" />
    <description>Les fonctions avancées</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>fr-ca</language><copyright>© 2023 Bureau du Forestier en Chef du Québec</copyright><lastBuildDate>Sun, 09 Sep 2018 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://bureau-du-forestier-en-chef.github.io/FMTdocs/media/icon_huc6d37a7993bbbcfd0b9a96d08d6d7557_42395_512x512_fill_lanczos_center_3.png</url>
      <title>Les fonctions avancées</title>
      <link>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/</link>
    </image>
    
    <item>
      <title>Replanification spatialement référencée</title>
      <link>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/replanning/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/replanning/</guid>
      <description>&lt;h2 id=&#34;quest-ce-que-la-replanification-&#34;&gt;Qu&amp;rsquo;est-ce que la replanification ?&lt;/h2&gt;
&lt;p&gt;La replanification est un processus qui consiste à resolutioner un modèle d&amp;rsquo;optimisation de coupes forestières (comme ceux utilisés dans FMT) pour prendre en compte des éléments qui ne peuvent pas être considérés dans le processus classique de résolution de ces modèles d&amp;rsquo;optimisation.&lt;/p&gt;
&lt;p&gt;La replanification permet donc de se poser des questions plus complexes; en particulier, elle permet de toucher aux interactions entre les &lt;a href=&#34;https://www.researchgate.net/profile/Mark-Boyland/publication/228780711_Hierarchical_Planning_in_Forestry/links/02e7e534d86d03937f000000/Hierarchical-Planning-in-Forestry.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;différents niveaux de la planification hiérarchique&lt;/a&gt; en foresterie (stratégique, tactique et opérationnel).&lt;/p&gt;
&lt;p&gt;Voici quelques &lt;strong&gt;exemples de questions auxquelles la replanification permet de répondre&lt;/strong&gt; :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Des questions liées aux effets des perturbations naturelles (feux, tordeuse des bourgeons de l&amp;rsquo;épinette, etc.)
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Quel est l&amp;rsquo;effet des feux à long terme sur les niveaux de récolte déterminés par le niveau stratégique ?&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Quel est l&amp;rsquo;effet d&amp;rsquo;un changement de régime d&amp;rsquo;une perturbation stochastique (aléatoire) sur les niveaux de récolte déterminés par le niveau stratégique ?&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Des questions liés aux incohérences entre ce qui est prévu au niveau stratégique (à grande échelle), et la réalité du terrain (à petite échelle) : &lt;a href=&#34;https://www.researchgate.net/publication/235754092_On_Risk_of_Systematic_Drift_Under_Incoherent_Hierarchical_Forest_Management_Planning&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;c&amp;rsquo;est la notion de &lt;em&gt;drift&lt;/em&gt; entre les différents niveaux de l&amp;rsquo;aménagement hiérarchique&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Est-ce que les objectifs sont toujours atteints en prenant en compte des problématiques et des contraintes plus précises au niveau tactique ?&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Des questions liées aux interactions entre les niveaux stratégique et tactique
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Quel est l&amp;rsquo;effet de communiquer (ou non) certaines informations au modèle tactique ou stratégique ? Qu&amp;rsquo;est-ce qui change ? Qu&amp;rsquo;est-ce qui ne change pas ?&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;la-replanification-spatialement-référencée-en-pratique&#34;&gt;La replanification spatialement référencée en pratique&lt;/h2&gt;
&lt;h3 id=&#34;les-modèles-utilisés&#34;&gt;Les modèles utilisés&lt;/h3&gt;
&lt;p&gt;Lorsqu&amp;rsquo;on utilise FMT, la replanification spatialement référencée se fait en pratique à l&amp;rsquo;aide de trois modèles de FMT.&lt;/p&gt;
&lt;p&gt;Ces trois modèles représentent trois scénarios appliqués à un même paysage initial(mêmes sections &lt;code&gt;AREA&lt;/code&gt;, &lt;code&gt;CONSTANTS&lt;/code&gt;, &lt;code&gt;LANDSCAPE&lt;/code&gt;, &lt;code&gt;OUTPUTS&lt;/code&gt;). Cependant, ces scénarios peuvent avoir des éléments différents les uns des autres (sections &lt;code&gt;ACTIONS&lt;/code&gt;, &lt;code&gt;TRANSITIONS&lt;/code&gt;, &lt;code&gt;YIELDS&lt;/code&gt; et &lt;code&gt;OPTIMIZE&lt;/code&gt; différentes).&lt;/p&gt;
&lt;p&gt;Ces trois modèles sont :&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Le modèle stratégique&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;C&amp;rsquo;est un modèle de programmation linéaire de type III, comme décrit dans &lt;a href=&#34;../../basics/spatially_referenced_optimization/&#34;&gt;les bases de FMT&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;C&amp;rsquo;est ce modèle qui va représenter ce qui se passe au niveau stratégique, c&amp;rsquo;est-à-dire quand on regarde les choses d&amp;rsquo;en haut sans prendre en compte certains détails à des échelles plus fines.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Le modèle stochastique&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;C&amp;rsquo;est un modèle de simulation non-spatial (qui fonctionne dans un espace spatialement référencé comme les modèles linéaires, et non pas spatialement explicite).&lt;/p&gt;
&lt;p&gt;Il va servir à simuler des actions pseudo-aléatoires avec des cibles de superficies à atteindre. Ces actions peuvent représenter des feux de forêts, des épidémies d&amp;rsquo;insectes, et bien d&amp;rsquo;autres encore !&lt;/p&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Une &lt;strong&gt;simulation pseudo-aléatoire&lt;/strong&gt; signifie que les composantes aléatoires de la simulation se basent sur un chiffre déterminé que l&amp;rsquo;on appelle la &amp;ldquo;graine&amp;rdquo; (seed). &lt;strong&gt;Deux simulations pseudo-aléatoires faites avec la même graine auront exactement les mêmes résultats&lt;/strong&gt;; mais changer la graine donne des résultats différents et aléatoires. C&amp;rsquo;est un fonctionnement très pratique pour avoir de l&amp;rsquo;aléatoire, tout en gardant une certaine stabilité dans les résultats obtenus.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3. Le modèle tactique&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Comme le modèle stratégique, c&amp;rsquo;est un modèle de programmation linéaire de type III, comme décrit dans &lt;a href=&#34;../basics&#34;&gt;les bases de FMT&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ce modèle va servir à refaire une optimisation de la planification forestière tout en prenant en compte les changements que le modèle stochastique à pu effectuer sur le paysage, ou bien avec des contraintes différentes ou supplémentaires par rapport au modèle stratégique.&lt;/p&gt;
&lt;h3 id=&#34;lexemple-dune-itération-de-replanification&#34;&gt;L&amp;rsquo;exemple d&amp;rsquo;une itération de replanification&lt;/h3&gt;
&lt;p&gt;La replanification se fait à l&amp;rsquo;aide des trois modèles décrits précédemment, en les appelant les un après les autres au sein de chaque période de replanification. Comme l&amp;rsquo;un des modèles (le modèle stochastique) contient des événements aléatoires, il est cependant possible de refaire tout le processus plusieurs fois afin de prendre en compte la variabilité liée à ces événements aléatoires : c&amp;rsquo;est ce que l&amp;rsquo;on appelle une &lt;em&gt;itération&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Lorsqu&amp;rsquo;on appelle les modèles les un après les autres, certaines de leur caractéristiques sont passées de l&amp;rsquo;un à l&amp;rsquo;autre (inventaire/état du paysage pour la période, ou bien contraintes et planification existante).&lt;/p&gt;
&lt;p&gt;Au final, une itération de replanification prend la forme suivante :&lt;/p&gt;














&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/Re-plannification_iteration_schema_hu72e43bf38fa22b8d7cec18e82399ffbe_53771_1dfcdc74702e9b3b7be3180aec91c1de.webp 400w,
               /FMTdocs/media/docs/Re-plannification_iteration_schema_hu72e43bf38fa22b8d7cec18e82399ffbe_53771_9d6c3edec527ae60b17a4cfbcd171bd5.webp 760w,
               /FMTdocs/media/docs/Re-plannification_iteration_schema_hu72e43bf38fa22b8d7cec18e82399ffbe_53771_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/Re-plannification_iteration_schema_hu72e43bf38fa22b8d7cec18e82399ffbe_53771_1dfcdc74702e9b3b7be3180aec91c1de.webp&#34;
               width=&#34;705&#34;
               height=&#34;398&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;Dans ce schéma,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;STRA&lt;/strong&gt; correspond au modèle &lt;strong&gt;stratégique&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;STO&lt;/strong&gt; correspond au modèle &lt;strong&gt;stochastique&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TAC&lt;/strong&gt; correspond au modèle &lt;strong&gt;tactique&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On peut ainsi voir que pour chaque période,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le modèle &lt;strong&gt;stratégique&lt;/strong&gt; est appelé pour faire sa &lt;strong&gt;planification&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;La planification du modèle stratégique se fait sur un horizon long; et cet horizon ne change pas à travers les périodes. C&amp;rsquo;est-à-dire qu&amp;rsquo;à chaque période, le modèle stratégique va, par exemple, planifier pour les 100 ans à venir; que ce soit 100 ans après la période 1, ou 100 ans après la période 3.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Le modèle &lt;strong&gt;stratégique&lt;/strong&gt; partage le même inventaire que le modèle &lt;strong&gt;stochastique&lt;/strong&gt;, ce dernier est appelé à faire sa &lt;strong&gt;simulation&lt;/strong&gt; pour introduire des différences avec l&amp;rsquo;inventaire qui sera passée au modèle tactique.
&lt;ul&gt;
&lt;li&gt;Le modèle stochastique ne va faire cette simulation que pour la période de temps donnée (contrairement au modèle de planification qui va faire son optimisation en prenant en compte le long terme). C&amp;rsquo;est parce que le modèle stochastique ne fait que simuler des événements aléatoires, et ne cherche pas à optimiser quoi que ce soit.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;L&amp;rsquo;inventaire résultant du modèle &lt;strong&gt;stochastique&lt;/strong&gt; va être passé au modèle &lt;strong&gt;tactique&lt;/strong&gt;, qui est appelé pour faire sa &lt;strong&gt;replanification&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Le modèle tactique ne va planifier que sur la période donnée; il ne va pas simuler le long-terme comme le modèle stratégique, même s&amp;rsquo;il essaye de faire une optimisation. Son objectif sera, par exemple, de récolter du bois sans dépasser la quantité de bois récoltée par le modèle stratégique, mais en prenant en compte l&amp;rsquo;inventaire modifié par les événements aléatoires du modèle stochastique.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;L&amp;rsquo;inventaire résultant du modèle &lt;strong&gt;tactique&lt;/strong&gt; est ensuite repassé au modèle &lt;strong&gt;stratégique&lt;/strong&gt;, qui va ensuite planifier à nouveau pour la période suivante.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On peut ainsi voir deux vas-et-viens entre les modèles :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le passage de l&amp;rsquo;inventaire d&amp;rsquo;un modèle à un autre au fur et à mesure du processus (&lt;strong&gt;lignes bleues sur le schéma&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;Le passage de contraintes de planification du modèle &lt;strong&gt;stratégique&lt;/strong&gt; au modèle &lt;strong&gt;tactique&lt;/strong&gt; (&lt;strong&gt;lignes jaunes sur le schéma&lt;/strong&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Notez bien que &lt;strong&gt;tout ce processus ne représente qu&amp;rsquo;une seule itération de la replanification&lt;/strong&gt;. Afin de réellement prendre en compte les effets des évenements stochastiques, il est important de répéter tout ce processus de nombreuses fois. Cela permet de prendre en compte la variabilité qui existera dans la manière dont l&amp;rsquo;inventaire et le modèle tactique vont réagir aux événements aléatoires; le modèle tactique peut aussi contenir des composantes aléatoires en son sein.&lt;/p&gt;
&lt;h2 id=&#34;les-modèles-de-replanification-en-détail&#34;&gt;Les modèles de replanification en détail&lt;/h2&gt;
&lt;h3 id=&#34;le-modèle-stratégique&#34;&gt;Le modèle stratégique&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C&amp;rsquo;est un modèle d’optimisation par programmation linéaire (&lt;code&gt;FMTlpmodel&lt;/code&gt;).
&lt;ul&gt;
&lt;li&gt;Il ne prend pas en compte les perturbations naturelles ou les événements stochastiques.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Normalement, il a un horizon de planification long pour faire le suivi de variables et optimiser certains éléments sur le long terme (e.g. 100 à 150 ans).&lt;/li&gt;
&lt;li&gt;Il dicte la voie à prendre au modèle tactique en lui transmettant des informations.&lt;/li&gt;
&lt;li&gt;Il peut utiliser le nouveau mot clé &lt;a href=&#34;./#_setfromlocalratio&#34;&gt;&lt;code&gt;_SETFROMLOCAL(ratio)&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;le-modèle-stochastique&#34;&gt;Le modèle stochastique&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C&amp;rsquo;est un modèle de simulation non-spatial (&lt;code&gt;FMTnssmodel&lt;/code&gt;).
&lt;ul&gt;
&lt;li&gt;Il simule des perturbations naturelles ou des événements stochastiques.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Il peut posséder un horizon de simulation long; mais il ne simule qu&amp;rsquo;une période à la fois.&lt;/li&gt;
&lt;li&gt;Son rôle est d&amp;rsquo;affecter le territoire utilisé par le &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt;, et donc de brouiller les cartes entre le &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; et le &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Il peut utiliser les nouveaux mots clés &lt;a href=&#34;./#_randomoutput&#34;&gt;&lt;code&gt;_RANDOM(output)&lt;/code&gt;&lt;/a&gt; et &lt;a href=&#34;./#_replicateoutput&#34;&gt;&lt;code&gt;_REPLICATE(output)&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    &lt;strong&gt;Le modèle stochastique n&amp;rsquo;est pas nécessaire ou obligatoire pour faire de la replanification&lt;/strong&gt;. Certaines questions qui peuvent être adressées par la replanification n&amp;rsquo;ont pas de lien avec des perturbations aléatoires. Par exemple, on peut s&amp;rsquo;intéresser aux décalages entre un modèle stratégique qui ne prend pas en compte des contraintes à plus petites échelles (e.g. terrain, fluctuations économiques, etc.), et un modèle tactique qui les prend en compte. Dans ce cas-ci, de la stochasticité peut exister dans les solutions du modèles tactique, mais elle ne requière pas l&amp;rsquo;utilisation d&amp;rsquo;un modèle stochastique pour altérer l&amp;rsquo;inventaire où le paysage forestier entre le modèle stochastique et tactique.
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;le-modèle-tactique&#34;&gt;Le modèle tactique&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C&amp;rsquo;est un modèle d’optimisation par programmation linéaire (&lt;code&gt;FMTlpmodel&lt;/code&gt;), comme le &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Son horizon de planification est de seulement une période.
&lt;ul&gt;
&lt;li&gt;Car à l&amp;rsquo;échelle tactique, on ne prend en compte que le court-terme, et non le long-terme.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Son état initial est celui de la période actuelle, donné par le &lt;a href=&#34;./#le-mod%c3%a8le-stochastique&#34;&gt;modèle stochastique&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Il peut utiliser les nouveaux mots clés &lt;a href=&#34;./#_setfromglobalratio&#34;&gt;&lt;code&gt;_SETFROMGLOBAL(ratio)&lt;/code&gt;&lt;/a&gt; et &lt;a href=&#34;./#_setglobalscheduleratio&#34;&gt;&lt;code&gt;_SETGLOBALSCHEDULE(ratio)&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;les-nouveaux-mots-clés-associés-à-la-replanification&#34;&gt;Les nouveaux mots-clés associés à la replanification&lt;/h2&gt;
&lt;p&gt;Différents mots clés qui n&amp;rsquo;existent pas dans la syntaxe Woodstock permettent d&amp;rsquo;implémenter des va-et-vient d&amp;rsquo;information entre les différents modèles de la replanification, selon le schéma suivant :&lt;/p&gt;














&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/Re-plannification_Mots_cl%C3%A9s_hu624d1e6d4ab1b556826091be69e46ac9_49640_4bc0de208a74e29aa76a964a14f83230.webp 400w,
               /FMTdocs/media/docs/Re-plannification_Mots_cl%C3%A9s_hu624d1e6d4ab1b556826091be69e46ac9_49640_431b1fdbae933f38dccb4572139237b9.webp 760w,
               /FMTdocs/media/docs/Re-plannification_Mots_cl%C3%A9s_hu624d1e6d4ab1b556826091be69e46ac9_49640_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/Re-plannification_Mots_cl%C3%A9s_hu624d1e6d4ab1b556826091be69e46ac9_49640_4bc0de208a74e29aa76a964a14f83230.webp&#34;
               width=&#34;760&#34;
               height=&#34;320&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;D&amp;rsquo;autres permettent d&amp;rsquo;ignorer des contraintes à des moments donnés, ou bien de les ajuster.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Vous trouverez ici la liste de ces nouveaux mots-clés liés à la replanification :&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;_reignoreperiod&#34;&gt;&lt;code&gt;_REIGNORE(period)&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Ce mot clé doit apparaître dans la section &lt;code&gt;OPTIMIZE&lt;/code&gt; d&amp;rsquo;un modèle.&lt;/p&gt;
&lt;p&gt;Il permet d&amp;rsquo;indiquer au modèle d&amp;rsquo;ignorer une contrainte à partir d&amp;rsquo;une période de replanification précise.&lt;/p&gt;
&lt;p&gt;Ceci peut être très utile pour instaurer une période de mise à jour de la planification, et ensuite ignorer les contraintes qui y sont liées.&lt;/p&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Il ne faut pas oublier que le &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; est répété à toutes les périodes de replanification, sur tout son horizon de planification. Si son horizon est de 100 ans et que les périodes de planification sont de 10 ans, il sera alors appelé à la période 3 à planifier à partir de l’inventaire qui a été modifié par les 2 périodes de replanification précédentes. Donc, il commencera 30 ans après le début de la période initiale de replanification et son horizon se terminera 130 ans après le début de la période initiale de replanification.
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;_replicatefichiercsv&#34;&gt;&lt;code&gt;_REPLICATE(fichier.csv)&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Ce mot clé permet de venir changer le terme à droite de l&amp;rsquo;équation (&lt;em&gt;Right Hand Side&lt;/em&gt;, ou &lt;em&gt;&lt;strong&gt;RHS&lt;/strong&gt;&lt;/em&gt;) d&amp;rsquo;une contrainte en venant chercher une valeur dans un tableau contenant ces valeurs pour différents réplicas.&lt;/p&gt;
&lt;p&gt;En pratique, on peu déposer un fichier &lt;code&gt;.csv&lt;/code&gt; dans le répertoire du scénario, puis utiliser &lt;code&gt;_REPLICATE(fichier.csv)&lt;/code&gt; pour que FMT applique une certaine valeur dans ce tableau pour l&amp;rsquo;itération à laquelle il se trouve.&lt;/p&gt;
&lt;p&gt;Par exemple, écrire la chose suivante dans la section des contraintes d&amp;rsquo;un modèle :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;_RANDOM(outputaction) &amp;lt;= 10 1 _REPLICATE(fichier.csv)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;permet de remplacer, à chaque itération, le chiffre &amp;ldquo;10&amp;rdquo; de la contrainte par le chiffre de la ligne 1 du fichier &lt;code&gt;fichier.csv&lt;/code&gt; avec la colonne qui correspond à l&amp;rsquo;itération.&lt;/p&gt;
&lt;p&gt;Dans le fichier, les lignes correspondent donc à la période et les colonnes à l&amp;rsquo;itération à laquelle on veut que la valeur s&amp;rsquo;applique.&lt;/p&gt;
&lt;h3 id=&#34;_setfromlocalratio&#34;&gt;&lt;code&gt;_SETFROMLOCAL(ratio)&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Ce mot clé permet au &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; d&amp;rsquo;ajuster une de ses contraintes en fonction de la valeur du output correspondant dans le &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt; utilisé à la période précédente.&lt;/p&gt;
&lt;p&gt;Avec cette contrainte, on précise un ratio qui peut augmenter ou diminuer la valeur prise du &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt;. Par exemple, un ratio de &lt;code&gt;1.0&lt;/code&gt; donnera exactement la valeur du &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt;; un ratio de &lt;code&gt;2.0&lt;/code&gt; va la multiplier par deux, et un ratio de &lt;code&gt;0.5&lt;/code&gt; la divisera par deux.&lt;/p&gt;
&lt;p&gt;Si on écrit la chose suivante dans la section des contraintes d&amp;rsquo;un &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;VOLUMEREC &amp;lt;= 0 1.._LENGTH _SETFROMLOCAL(1)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;on se trouve à remplacer systématiquement le chiffre &amp;ldquo;0&amp;rdquo; du &lt;em&gt;&lt;strong&gt;RHS&lt;/strong&gt;&lt;/em&gt; par la valeur du output VOLUMEREC de la période de replanification précédente du &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;_randomoutput&#34;&gt;&lt;code&gt;_RANDOM(output)&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Ce mot clé est utilisé pour générer des valeurs de façon aléatoire pour le &lt;a href=&#34;./#le-mod%c3%a8le-stochastique&#34;&gt;modèle stochastique&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;alert alert-warning&#34;&gt;
  &lt;div&gt;
    L&amp;rsquo;output choisi avec &lt;code&gt;_RANDOM(output)&lt;/code&gt; doit être un output d&amp;rsquo;action, et non un output d&amp;rsquo;inventaire.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Il s&amp;rsquo;écrit comme pour une contrainte standard.&lt;/p&gt;
&lt;p&gt;Voici un exemple pour générer un chiffre aléatoire entre 50 et 100 pour les périodes 1 à LENGTH :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;_RANDOM(outputaction) &amp;lt;= 50 1.._LENGTH
_RANDOM(outputaction)  &amp;gt;= 100 1.._LENGTH
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;_setfromglobalratio&#34;&gt;&lt;code&gt;_SETFROMGLOBAL(ratio)&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Ce mot-clé est utilisé pour ajuster une contrainte du &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt; basé sur une valeur déterminée par le &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt;. C&amp;rsquo;est un peu la réciproque de &lt;a href=&#34;./#_setfromlocalratio&#34;&gt;&lt;code&gt;_SETFROMLOCAL(ratio)&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Le ratio permet d&amp;rsquo;augmenter ou de diminuer la valeur prise du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt;. Par exemple, un ratio de &lt;code&gt;1.0&lt;/code&gt; donnera exactement la valeur du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt;; un ratio de &lt;code&gt;2.0&lt;/code&gt; va la multiplier par deux, et un ratio de &lt;code&gt;0.5&lt;/code&gt; la divisera par deux.&lt;/p&gt;
&lt;p&gt;Si on écrit la chose suivante dans la section des contraintes d&amp;rsquo;un &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt; :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;VOLUMEREC &amp;lt;= 0 1.._LENGTH _SETFROMGLOBAL(1)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;on remplace systématiquement le chiffre &amp;ldquo;0&amp;rdquo; du &lt;em&gt;&lt;strong&gt;RHS&lt;/strong&gt;&lt;/em&gt; par la valeur du output VOLUMEREC du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; pour la période de replanification en cours.&lt;/p&gt;
&lt;h3 id=&#34;_setglobalscheduleratio&#34;&gt;&lt;code&gt;_SETGLOBALSCHEDULE(ratio)&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Ce mot clé permet d&amp;rsquo;inclure la solution (ce qui a été planifié comme actions) du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; dans le &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt; sous forme de poids à la fonction objective.&lt;/p&gt;
&lt;p&gt;Pour ce faire, lors de l&amp;rsquo;évaluation de la solution du &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt;, à chaque fois que ce dernier planifiera une action sur un même développement que prévu au &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt;, il multipliera la superficie planifiée (au niveau tactique) par le ratio spécifié et ajoutera la valeur à l&amp;rsquo;objectif selon la formulation de la fonction objective. Si le modèle doit maximiser, on additionnera et s&amp;rsquo;il doit minimiser, on soustraiera la valeur calculée.&lt;/p&gt;
&lt;h2 id=&#34;les-résultats-de-la-replanification&#34;&gt;Les résultats de la replanification&lt;/h2&gt;
&lt;p&gt;Suite au processus de replanification, on obtient les résultats suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Trois fichiers de résultats &lt;em&gt;bruts&lt;/em&gt; (un par modèle)&lt;/li&gt;
&lt;li&gt;Un fichier de probabilités (un seul pour tout le processus)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;les-fichiers-de-résultats-bruts-par-modèles&#34;&gt;Les fichiers de résultats bruts par modèles&lt;/h3&gt;
&lt;p&gt;Ces fichiers contiennent des valeurs liées aux outputs dans les différents modèles, pour les différentes périodes, et pour les différentes itérations.&lt;/p&gt;
&lt;p&gt;Ils contiennent différentes colonnes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Iteration&lt;/code&gt; : Indique le numéro de l&amp;rsquo;itération qui est fait pour prendre en compte de la stochasticité. L&amp;rsquo;itération &amp;ldquo;0&amp;rdquo; concerne le modèle stratégique &amp;ldquo;de base&amp;rdquo;, qui est résolu au tout début du processus de replanification.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Period&lt;/code&gt; : Indique la période de replanification qui concerne la valeur de l&amp;rsquo;output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Output&lt;/code&gt; : Nom de l&amp;rsquo;output considéré.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Value&lt;/code&gt; : Valeur du output considéré.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Type&lt;/code&gt; : Type de output (indique si c&amp;rsquo;est un output &amp;ldquo;total&amp;rdquo; pour tout le paysage, ou par développement/peuplement).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;le-fichier-de-probabilités&#34;&gt;Le fichier de probabilités&lt;/h3&gt;
&lt;p&gt;Ce fichier contient les probabilités que des outputs du &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt; puissent s&amp;rsquo;éloigner (&lt;em&gt;drift&lt;/em&gt;) de la solution du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; initial (résolu au tout début du processus de replanification), dont les outputs se trouvent dans l&amp;rsquo;itération &amp;ldquo;0&amp;rdquo; des fichiers de résultats bruts.&lt;/p&gt;
&lt;p&gt;Pour chacun des outputs définis dans les modèles, le fichier de probabilité contiendra toutes les probabilités de rester dans l&amp;rsquo;intervalle inférieur et supérieur du ratio d&amp;rsquo;éloignement (&lt;em&gt;drift&lt;/em&gt;) vis-à-vis des outputs du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; initial, pour les valeurs de ratio d&amp;rsquo;éloignement suivantes : &lt;code&gt;0&lt;/code&gt;, &lt;code&gt;0.05&lt;/code&gt;, &lt;code&gt;0.10&lt;/code&gt;, &lt;code&gt;0.15&lt;/code&gt;, &lt;code&gt;0.20&lt;/code&gt;, &lt;code&gt;0.25&lt;/code&gt;, &lt;code&gt;0.30&lt;/code&gt;, &lt;code&gt;0.35&lt;/code&gt;, &lt;code&gt;0.40&lt;/code&gt;, &lt;code&gt;0.45&lt;/code&gt;, &lt;code&gt;0.50&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ce fichier contient différentes colonnes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Period&lt;/code&gt; : Indique la période de replanification qui concerne la valeur de l&amp;rsquo;output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Output&lt;/code&gt; : Nom de l&amp;rsquo;output considéré.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LowerProbability&lt;/code&gt; : Probabilité de rester dans l&amp;rsquo;intervalle inférieure du ratio d&amp;rsquo;éloignement.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UpperProbability&lt;/code&gt; : Probabilité de rester dans l&amp;rsquo;intervalle supérieure du ratio d&amp;rsquo;éloignement.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Drift&lt;/code&gt; : Ratio d&amp;rsquo;éloignement entre la solution du &lt;a href=&#34;./#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique&lt;/a&gt; et celle du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; initial.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Plus vous ferez d&amp;rsquo;itérations lors de votre replanification, et plus vos probabilités seront représentatives et stables dans le temps. À l&amp;rsquo;inverse, un petit nombre d&amp;rsquo;itérations tendra à résulter ou des estimations très changeantes, et souvent incomplètes.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Pour comprendre les probabilités, il faut d&amp;rsquo;abord regarder le ratio d&amp;rsquo;éloignement, la valeur du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; initial, puis les probabilités.&lt;/p&gt;
&lt;p&gt;Par exemple :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Si la valeur du &lt;a href=&#34;./#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique&lt;/a&gt; initial pour un output donné est de 1000.&lt;/li&gt;
&lt;li&gt;Et si, pour la période 1, on obtient une &lt;code&gt;LowerProbability&lt;/code&gt; de 1 et une &lt;code&gt;UpperProbability&lt;/code&gt; de 1 pour un &lt;em&gt;drift&lt;/em&gt; de 0.3.
&lt;ul&gt;
&lt;li&gt;Alors, cela veut dire qu&amp;rsquo;il y a une probabilité de 100% pour que l&amp;rsquo;output reste entre une valeur de 700 et de 1300 pour la période 1.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Et si, pour la période 10, on obtient une &lt;code&gt;LowerProbability&lt;/code&gt; de 0.6 et une &lt;code&gt;UpperProbability&lt;/code&gt; de 0.4 pour un &lt;em&gt;drift&lt;/em&gt; de 0.5.
&lt;ul&gt;
&lt;li&gt;Alors, cela veut dire qu&amp;rsquo;il y a une probabilité de 60% que l&amp;rsquo;output reste au dessus de 500, et une probabilité de 40% qu&amp;rsquo;il reste en dessous de 1500 à la période 10.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Le fichier de probabilité permet, par exemple, de vérifier qu&amp;rsquo;un certain scénario a de meilleures probabilités de se maintenir entre certaines valeurs qu&amp;rsquo;un autre scénario.
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Les fichiers de résultats bruts des 3 modèles peuvent cependant être utilisés pour faire des analyses plus complexes, ou bien pour valider des hypothèses en ce qui concerne la communication entre les trois modèles.
  &lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Exercice 2</title>
      <link>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/exercice_2/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/exercice_2/</guid>
      <description>&lt;p&gt;Dans cet exercice, vous allez essayer d&amp;rsquo;utiliser FMT pour répondre à différentes questions concernant un modèle stratégique et un modèle tactique, par le biais d&amp;rsquo;un processus de replanification.&lt;/p&gt;
&lt;p&gt;Ainsi, cet exercice vous apprendra à :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Réaliser un script de replanification&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Faire une replanification avec plusieurs modèles, en variant &lt;a href=&#34;../replanning/#les-nouveaux-mots-cl%c3%a9s-associ%c3%a9s-%c3%a0-la-re-planification&#34;&gt;les mots clés spéciaux de FMT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Analyser les résultats des replanifications pour répondre à différentes questions&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pour faire cet exercice, &lt;strong&gt;vous devez avoir installé FMT sur votre ordinateur et avoir téléchargé les fichiers d&amp;rsquo;exemple depuis le dépôt GitHub de FMT&lt;/strong&gt;.&lt;/p&gt;
&lt;ul class=&#34;cta-group&#34;&gt;
  
  &lt;li&gt;
    &lt;a href=&#34;../../download_install&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; class=&#34;btn btn-primary px-3 py-3&#34;&gt;💾 Télécharger et installer FMT&lt;/a&gt;
  &lt;/li&gt;
  
  
&lt;/ul&gt;

&lt;ul class=&#34;cta-group&#34;&gt;
  
  &lt;li&gt;
    &lt;a href=&#34;https://downgit.github.io/#/home?url=https://github.com/gcyr/FMT/tree/master/Examples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; class=&#34;btn btn-primary px-3 py-3&#34;&gt;💾 Télécharger les fichiers d&amp;rsquo;exemples de FMT&lt;/a&gt;
  &lt;/li&gt;
  
  
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Vous devez également avoir installé Python sur votre ordinateur&lt;/strong&gt;. Si cela n&amp;rsquo;est pas fait, &lt;a href=&#34;../../download_install/importing_in_python/&#34;&gt;référez-vous à cette page&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;1ère-partie--création-dun-script-de-replanification&#34;&gt;1ère partie : Création d&amp;rsquo;un script de replanification&lt;/h2&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Si vous ne connaissez pas beaucoup le langage Python, ou bien si vous n&amp;rsquo;avez vraiment pas le temps, vous pouvez sauter cette section et utiliser le script &lt;code&gt;Replanner.py&lt;/code&gt; qui se trouve dans le dossier &amp;ldquo;Examples&amp;rdquo; que vous avez téléchargé, dans le dossier &lt;code&gt;/Python/replanning&lt;/code&gt;.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Le processus de replanification implique souvent de lancer de nombreux modèles, et de nombreuses fois (pour faire des itérations).&lt;/p&gt;
&lt;p&gt;Il est ainsi très utile de creer un script Python qui peut être appellé par le biais d&amp;rsquo;une console, d&amp;rsquo;un terminal, ou d&amp;rsquo;une invite de commande.&lt;/p&gt;
&lt;p&gt;Encore mieux : il est possible de créer un script Python qui lira des arguments qui lui seront fournis lorsqu&amp;rsquo;il sera appelé avec l&amp;rsquo;invite de commande. Cela permettra de réutiliser ce script pour différentes replanifications.&lt;/p&gt;
&lt;p&gt;Essayez alors de créer en langage Python le script suivant :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Importation de &lt;code&gt;Models&lt;/code&gt;, &lt;code&gt;Parser&lt;/code&gt;, &lt;code&gt;Core&lt;/code&gt;, &lt;code&gt;Version&lt;/code&gt; et &lt;code&gt;Parallel&lt;/code&gt; depuis &lt;code&gt;FMT&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Lecture des arguments suivants (il est recommandé d&amp;rsquo;utiliser le module &lt;a href=&#34;https://docs.python.org/3/library/argparse.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;argparse&lt;/code&gt;&lt;/a&gt;)
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-pri&lt;/code&gt; qui indique la localisation du fichier primaire des modèles qui seront utilisés&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-str&lt;/code&gt; qui indique le nom du scénario stratégique&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-tac&lt;/code&gt; qui indique le nom du scénario tactique&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-sto&lt;/code&gt; qui indique le nom du scénario stochastique&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-out&lt;/code&gt; qui indique une liste d&amp;rsquo;outputs d&amp;rsquo;intéret, séparés par une virgule, à extraire des résultats des modèles&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-fol&lt;/code&gt; qui indique le dossier où les sorties du script seront mises&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-rep&lt;/code&gt; qui indique le nombre d&amp;rsquo;itérations à faire&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-len&lt;/code&gt; qui indique le nombre de périodes du modèle stratégique&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-rel&lt;/code&gt; qui indique le nombre de périodes sur lesquelles la replanification va se faire&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-thr&lt;/code&gt; qui indique le nombre de coeurs de CPU à utiliser pour faire des itérations en parralèle&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ensuite, le script devra :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lire le modèle via le fichier primaire&lt;/li&gt;
&lt;li&gt;Lire les différents scénarios&lt;/li&gt;
&lt;li&gt;Créer le modèle stratégique/global en utilisant le nom de scénario fournis par &lt;code&gt;-str&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;Faire en sorte que le modèle global se fasse sur la durée fournie par &lt;code&gt;-len&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Faire en sorte que le modèle global utilise le nombre de threads indiqués par &lt;code&gt;-thr&lt;/code&gt; pour la résolution en parallèle&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Créer le modèle stochastique en utilisant le nom de scénario fournis par &lt;code&gt;-sto&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;Faire en sorte que le modèle stochastique se fasse sur la durée de une période&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Créer le modèle tactique en utilisant le nom de scénario fournis par &lt;code&gt;-tac&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;Faire en sorte que le modèle tactique se fasse sur la durée de une période&lt;/li&gt;
&lt;li&gt;Faire en sorte que le modèle global utilise le nombre de threads indiqués par &lt;code&gt;-thr&lt;/code&gt; pour la résolution en parallèle&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ajouter les outputs selectionnés par l&amp;rsquo;argument &lt;code&gt;-out&lt;/code&gt; dans une liste depuis les outputs des modèles&lt;/li&gt;
&lt;li&gt;Préparer la tâche de replanning par le biais de la fonction &lt;code&gt;Parallel.FMTreplanningtask()&lt;/code&gt; en fournissant à la fonction :
&lt;ul&gt;
&lt;li&gt;Le modèle stratégique&lt;/li&gt;
&lt;li&gt;Le modèle stochastique&lt;/li&gt;
&lt;li&gt;Le modèle tactique&lt;/li&gt;
&lt;li&gt;La liste des outputs voulus&lt;/li&gt;
&lt;li&gt;Le dossier où les outputs seront mis&lt;/li&gt;
&lt;li&gt;Le format des outputs (ici, &lt;code&gt;.csv&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;../../../../doxygen/html/classParallel_1_1FMTreplanningtask.html&#34;&gt;Tous les autres arguments nécéssaires à la fonction&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Lancer la tâche de replanning par le biais de la fonction &lt;code&gt;Parallel.FMTtaskhandler()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lorsque vous avez terminé, ou si vous êtes bloqué.e, &lt;strong&gt;vous pouvez afficher la correction de cet exercice pour du code Python en cliquant sur le bouton &amp;ldquo;Révéler la correction&amp;rdquo; ci-dessous&lt;/strong&gt;.&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-3&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from FMT import Models
from FMT import Parser
from FMT import Core
from FMT import Version
from FMT import Parallel
import os,argparse


if __name__ == &amp;quot;__main__&amp;quot;:
    ap = argparse.ArgumentParser()
    ap.add_argument(&amp;quot;-pri&amp;quot;, &amp;quot;--primary&amp;quot;, required=True,help=&amp;quot;Fichier primaire&amp;quot;)
    ap.add_argument(&amp;quot;-str&amp;quot;, &amp;quot;--strategic&amp;quot;, required=True,help=&amp;quot;Nom du scenario strategique&amp;quot;)
    ap.add_argument(&amp;quot;-tac&amp;quot;, &amp;quot;--tactic&amp;quot;, required=True,help=&amp;quot;Nom du scenario tactique&amp;quot;)
    ap.add_argument(&amp;quot;-sto&amp;quot;, &amp;quot;--stochastic&amp;quot;, required=True,help=&amp;quot;Nom du scenario stochastique&amp;quot;)
    ap.add_argument(&amp;quot;-out&amp;quot;, &amp;quot;--outputs&amp;quot;, required=True,help=&amp;quot;Liste d&#39;outputs separe d&#39;une virgule&amp;quot;)
    ap.add_argument(&amp;quot;-fol&amp;quot;, &amp;quot;--folder&amp;quot;, required=True,help=&amp;quot;Dossier de sortie&amp;quot;)
    ap.add_argument(&amp;quot;-rep&amp;quot;, &amp;quot;--replicates&amp;quot;, required=True,help=&amp;quot;Nombre de replicas&amp;quot;)
    ap.add_argument(&amp;quot;-len&amp;quot;, &amp;quot;--strategiclength&amp;quot;, required=True,help=&amp;quot;Nombre de periode du strategique&amp;quot;)
    ap.add_argument(&amp;quot;-rel&amp;quot;, &amp;quot;--replanninglength&amp;quot;, required=True,help=&amp;quot;Nombre de periode de re-plannification&amp;quot;)
    ap.add_argument(&amp;quot;-thr&amp;quot;, &amp;quot;--threads&amp;quot;, required=True,help=&amp;quot;Nombre de threads&amp;quot;)
    ap.add_argument(&amp;quot;-com&amp;quot;,&amp;quot;--compresstime&amp;quot;, nargs=&amp;quot;+&amp;quot;,help=&amp;quot;Compress time sous la forme 20,5 40,8&amp;quot;)
    args = vars(ap.parse_args())
    if Version.FMTversion().hasfeature(&amp;quot;OSI&amp;quot;):
        modelparser = Parser.FMTmodelparser()
        path = args[&amp;quot;primary&amp;quot;]
        scenarios = [args[&amp;quot;strategic&amp;quot;],args[&amp;quot;stochastic&amp;quot;],args[&amp;quot;tactic&amp;quot;]]
        models = modelparser.readproject(path, scenarios)
        globalmodel = Models.FMTlpmodel(models[0], Models.FMTsolverinterface.CLP)
        globalmodel.setparameter(Models.FMTintmodelparameters.LENGTH,int(args[&amp;quot;strategiclength&amp;quot;]))
        globalmodel.setparameter(Models.FMTintmodelparameters.NUMBER_OF_THREADS,1)
        if &amp;quot;com&amp;quot; in args:
            for firstperiod,value in [tuple(int(cmpt.split(&amp;quot;,&amp;quot;)[0]),float(cmpt.split(&amp;quot;,&amp;quot;)[1])) for cmpt in args[&amp;quot;com&amp;quot;]]:
                globalmodel.setcompresstime(firstperiod,int(args[&amp;quot;strategiclength&amp;quot;]),value)
        stochastic = Models.FMTnssmodel(models[1],0)
        stochastic.setparameter(Models.FMTintmodelparameters.LENGTH, 1)
        localmodel = Models.FMTlpmodel(models[2], Models.FMTsolverinterface.CLP)
        localmodel.setparameter(Models.FMTintmodelparameters.LENGTH, 1)
        localmodel.setparameter(Models.FMTintmodelparameters.NUMBER_OF_THREADS,1)
        selectedoutputs=[]
        for output in globalmodel.getoutputs():
            if output.getname() in args[&amp;quot;outputs&amp;quot;].split(&amp;quot;,&amp;quot;):
                selectedoutputs.append(output)
        outputlocation = args[&amp;quot;folder&amp;quot;]
        layersoptions=[&amp;quot;SEPARATOR=SEMICOLON&amp;quot;]
        replanningtask=Parallel.FMTreplanningtask(globalmodel,stochastic, localmodel, selectedoutputs, outputlocation, &amp;quot;CSV&amp;quot;, layersoptions,int(args[&amp;quot;replicates&amp;quot;]),int(args[&amp;quot;replanninglength&amp;quot;]),0.5, Core.FMToutputlevel.totalonly)
        handler = Parallel.FMTtaskhandler(replanningtask,int(args[&amp;quot;threads&amp;quot;]))
        handler.setquietlogger()
        handler.conccurentrun()
    else:
        print(&amp;quot;FMT needs to be compiled with OSI&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;h2 id=&#34;2ème-partie--création-des-scénarios-pour-la-replanification&#34;&gt;2ème partie : Création des scénarios pour la replanification&lt;/h2&gt;
&lt;h3 id=&#34;préparation&#34;&gt;Préparation&lt;/h3&gt;
&lt;p&gt;Après avoir téléchargé les fichiers d&amp;rsquo;exemples de FMT (voir plus haut), ouvrez le dossier &lt;code&gt;Models/TWD_land/Scenarios/Globalex1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ce scénario &lt;code&gt;Globalex1&lt;/code&gt; est un scénario que nous utiliserons comme &lt;a href=&#34;../replanning#le-mod%c3%a8le-strat%c3%a9gique&#34;&gt;modèle stratégique ou modèle global&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prenez le temps d&amp;rsquo;observer le contenu de ses fichiers&lt;/strong&gt;; en particulier, jetez un oeil à ses actions, ses objectifs et ses contraintes.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Faites de même avec le modèle &lt;code&gt;Localex1&lt;/code&gt;&lt;/strong&gt;, que nous utiliserons comme &lt;a href=&#34;../replanning#le-mod%c3%a8le-tactique&#34;&gt;modèle tactique ou modèle local&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;question-1&#34;&gt;Question 1&lt;/h3&gt;
&lt;p&gt;Ouvrez ensuite une invite de commande de Windows, ou bien un Powershell. Utilisez la commande &lt;code&gt;cd&lt;/code&gt; pour vous rendre dans le dossier &lt;code&gt;Examples/Python/replanning&lt;/code&gt;. Puis, utilisez la commande suivante pour lancer la replannification :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;python Replanner.py -pri ../../Models/TWD_land/TWD_land.pri -str Globalex1 -tac Localex1 -sto Globalnofire -out OVOLREC,OSUPREC,OSUPPL,VOLINVENT -fol replanning_EX1 -rep 10 -len 20 -rel 20 -thr 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Cette commande indique au script créé dans la première partie que nous voulons :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Utiliser le modèle qui se trouve au chemin &lt;code&gt;../../Models/TWD_land/TWD_land.pri&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Utiliser le scénario &lt;code&gt;Globalex1&lt;/code&gt; comme modèle stratégique&lt;/li&gt;
&lt;li&gt;Utiliser le scénario &lt;code&gt;Localex1&lt;/code&gt; comme modèle tactique&lt;/li&gt;
&lt;li&gt;Utiliser le scénario &lt;code&gt;Globalnofire&lt;/code&gt; comme modèle stocastique&lt;/li&gt;
&lt;li&gt;Créer des tableaux de sorties pour les outputs &lt;code&gt;OVOLREC&lt;/code&gt;, &lt;code&gt;OSUPREC&lt;/code&gt;, &lt;code&gt;OSUPPL&lt;/code&gt;, et &lt;code&gt;VOLINVENT&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Mettre ces tableaux dans le dossier &lt;code&gt;replanning_EX1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Faire 10 itérations&lt;/li&gt;
&lt;li&gt;Solutionner le modèle stratégique sur 20 périodes&lt;/li&gt;
&lt;li&gt;Faire la replannification sur 20 périodes&lt;/li&gt;
&lt;li&gt;Utiliser 2 coeurs de CPU pour faire des itérations en parallèle&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Une fois que la commande s&amp;rsquo;est éxécutée, regardez les sorties présentes dans le dossier &lt;code&gt;Examples/Python/replanning/replanning_EX1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Avec une tolérance à la rupture de stock de 5%, quelle est la probabilité de maintenir &lt;code&gt;OVOLREC&lt;/code&gt; jusqu’à la période 10 dans le modèle tactique ?&lt;/strong&gt;&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-4&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;Pour regarder la probabilité de maintenir &lt;code&gt;OVOLREC&lt;/code&gt; au-dessus d&amp;rsquo;une baisse de 5%, il suffit de regarder le fichier &lt;code&gt;outputsdrift.csv&lt;/code&gt;. Celui-ci nous indique la probabilité que les différents outputs sélectionnés restent, dans le modèle tactique, au-dessus ou en-dessous d&amp;rsquo;un certain éloignement vis-à-vis du modèle stratégique.&lt;/p&gt;
&lt;p&gt;On peut donc ouvrir le fichier, et se rendre jusqu&amp;rsquo;aux lignes qui concernent &lt;code&gt;OVOLREC&lt;/code&gt; et un drift de &lt;code&gt;0.05&lt;/code&gt; (5%), à savoir les lignes 462-481.&lt;/p&gt;
&lt;p&gt;En regardant ces lignes, on peut voir qu&amp;rsquo;à partir de la période 7, &lt;code&gt;OVOLREC&lt;/code&gt; a une probabilité de &lt;code&gt;0&lt;/code&gt; de ne pas baisser de plus de 5% par rapport au modèle stratégique (troisième colonne &lt;code&gt;LowerProbability&lt;/code&gt;); cette probabilité reste à 0 pour toutes les périodes suivantes. Ainsi, il semble donc que la probabilité de maintenir &lt;code&gt;OVOLREC&lt;/code&gt; au-dessus d&amp;rsquo;une baisse de 5% jusqu&amp;rsquo;à la période 10 est de 0.&lt;/p&gt;
&lt;p&gt;On peut représenter ces valeurs avec un graphe via les données de &lt;code&gt;outputsdrift.csv&lt;/code&gt; :&lt;/p&gt;
&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice1_hu4c06e95e061da6778d0d503031606ad3_12463_0af8a7f6ebcbb19d23a51ae0e183be8e.webp 400w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice1_hu4c06e95e061da6778d0d503031606ad3_12463_d08059d6861eb190a92e28eb5bd00c97.webp 760w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice1_hu4c06e95e061da6778d0d503031606ad3_12463_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/grapheExercice2_replanning_Exercice1_hu4c06e95e061da6778d0d503031606ad3_12463_0af8a7f6ebcbb19d23a51ae0e183be8e.webp&#34;
               width=&#34;752&#34;
               height=&#34;452&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;question-2&#34;&gt;Question 2&lt;/h3&gt;
&lt;p&gt;À présent, dupliquez le dossier &lt;code&gt;Globalex1&lt;/code&gt; et renommez-le &lt;code&gt;Globalex2&lt;/code&gt; (supprimez le dossier existant s&amp;rsquo;il existe déjà).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Modifiez ensuite le fichier &lt;code&gt;TWD_land.opt&lt;/code&gt; de &lt;code&gt;Globalex2&lt;/code&gt; afin de forcer le scénario &lt;code&gt;Globalex2&lt;/code&gt; à ne pas dépasser 20 000 m³ pour l&amp;rsquo;output &lt;code&gt;OVOLREC&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-5&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;Le contenu de &lt;code&gt;TWD_land.opt&lt;/code&gt; du scénario &lt;code&gt;Globalex2&lt;/code&gt; doit alors être :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
*OBJECTIVE
_MAXMIN oVolRec 1.._LENGTH

*EXCLUDE
aCaribou 1.._LENGTH
afire    1.._LENGTH
arecup    1.._LENGTH

*CONSTRAINTS

oVolRec&amp;lt;= 20000 1.._LENGTH

_NDY(oVolRec) 1.._LENGTH


*FORMAT MOSEK

&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;p&gt;Lancez ensuite une replannification avec le modèle stratégique &lt;code&gt;Globalex2&lt;/code&gt; et le modèle tactique &lt;code&gt;Localex1&lt;/code&gt;, avec la commande suivante :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;python Replanner.py -pri ../../Models/TWD_land/TWD_land.pri -str Globalex2 -tac Localex1 -sto Globalnofire -out OVOLREC,OSUPREC,OSUPPL,VOLINVENT -fol replanning_EX2 -rep 10 -len 20 -rel 20 -thr 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Une fois que la commande s&amp;rsquo;est éxécutée, regardez les sorties présentes dans le dossier &lt;code&gt;Examples/Python/replanning/replanning_EX2&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Avec une tolérance à la rupture de stock de 5%, quelle est la probabilité de maintenir &lt;code&gt;OVOLREC&lt;/code&gt; jusqu’à la période 10 dans le modèle tactique ?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Y-as-t-il un gain vis-à-vis de la question 1 ?&lt;/strong&gt;&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-6&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;En regardant les résultats de &lt;code&gt;outputsdrift.csv&lt;/code&gt;, on peut voir que &lt;code&gt;OVOLREC&lt;/code&gt; garde une probabilité de &lt;code&gt;1&lt;/code&gt; de ne pas diminuer de plus de 5% tout du long des 20 périodes. Ainsi, il y a une probabilité maximale que &lt;code&gt;OVOLREC&lt;/code&gt; se maintiennent au-dessus de 5% de baisse dans le modèle tactique &lt;code&gt;Localex1&lt;/code&gt;, lorsque l&amp;rsquo;on utilise le modèle stratégique &lt;code&gt;Globalex2&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;On a donc un gain clair vis-à-vis de la question 1, pour laquelle &lt;code&gt;OVOLREC&lt;/code&gt; ne pouvait pas se maintenir au-dessus d&amp;rsquo;une baisse de 5% à partir de la 7ième période. Cela est surement dû au fait que l&amp;rsquo;on a forcé &lt;code&gt;Globalex2&lt;/code&gt; à ne pas récolter trop, ce qui a rendu le fait de maintenir ce niveau dans &lt;code&gt;Localex1&lt;/code&gt; plus facile.&lt;/p&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;question-3&#34;&gt;Question 3&lt;/h3&gt;
&lt;p&gt;À présent, dupliquez le dossier &lt;code&gt;Localex1&lt;/code&gt; et renommez-le &lt;code&gt;Localex3&lt;/code&gt; (supprimez le dossier existant s&amp;rsquo;il existe déjà).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Modifiez ensuite le fichier &lt;code&gt;TWD_land.opt&lt;/code&gt; de &lt;code&gt;Localex3&lt;/code&gt; afin de forcer ce modèle tactique à suivre la solution du modèle stratégique avec un poids de 100, avec le mot clé &lt;a href=&#34;../replanning/#_setglobalscheduleratio&#34;&gt;&lt;code&gt;_SETGLOBALSCHEDULE(poids)&lt;/code&gt;&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-7&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;Le contenu de &lt;code&gt;TWD_land.opt&lt;/code&gt; du scénario &lt;code&gt;Localex3&lt;/code&gt; doit alors être :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
*OBJECTIVE
_MAX ovolrec 1.._LENGTH _SETGLOBALSCHEDULE(100)

*EXCLUDE
aCaribou 1.._LENGTH
afire    1.._LENGTH
arecup    1.._LENGTH

*CONSTRAINTS

oVolRec&amp;lt;= 40272 1.._LENGTH _SETFROMGLOBAL(1)


*FORMAT MOSEK

&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;p&gt;Lancez ensuite une replannification avec le modèle stratégique &lt;code&gt;Globalex1&lt;/code&gt; et le modèle tactique &lt;code&gt;Localex3&lt;/code&gt;, avec la commande suivante :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;python Replanner.py -pri ../../Models/TWD_land/TWD_land.pri -str Globalex1 -tac Localex3 -sto Globalnofire -out OVOLREC,OSUPREC,OSUPPL,VOLINVENT -fol replanning_EX3 -rep 10 -len 20 -rel 20 -thr 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Une fois que la commande s&amp;rsquo;est éxécutée, regardez les sorties présentes dans le dossier &lt;code&gt;Examples/Python/replanning/replanning_EX3&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Avec une tolérance à la rupture de stock de 5%, quelle est la probabilité de maintenir &lt;code&gt;OVOLREC&lt;/code&gt; jusqu’à la période 10 dans le modèle tactique ?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Y-as-t-il un gain vis-à-vis de la question 1 ?&lt;/strong&gt;&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-8&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;En regardant les résultats de &lt;code&gt;outputsdrift.csv&lt;/code&gt; dans &lt;code&gt;Examples/Python/replanning/replanning_EX3&lt;/code&gt;, on peut voir que &lt;code&gt;OVOLREC&lt;/code&gt; a une probabilité de &lt;code&gt;1&lt;/code&gt; de ne pas diminuer de plus de 5% par rapport au modèle stratégique à la période 8; mais que cette probabilité passe à &lt;code&gt;0&lt;/code&gt; à partir de la période 9, et reste à &lt;code&gt;0&lt;/code&gt; pendant toutes les autres périodes. Ainsi, il est certain que &lt;code&gt;OVOLREC&lt;/code&gt; ne se maintiendra pas au-dessus d&amp;rsquo;une baisse de 5% jusqu&amp;rsquo;a la période 10.&lt;/p&gt;
&lt;p&gt;Cependant, on peut quand même observer un léger gain par rapport à la question 1; la probabilité que &lt;code&gt;OVOLREC&lt;/code&gt; ne diminue pas de plus de 5% descendait à &lt;code&gt;0&lt;/code&gt; dès la période 7 dans ces résultats. En poussant le modèle tactique à suivre la solution du modèle stratégique avec le mot clé &lt;code&gt;_SETGLOBALSCHEDULE(poids)&lt;/code&gt;, on a donc gagné deux périodes de stabilité en plus !&lt;/p&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;question-4&#34;&gt;Question 4&lt;/h3&gt;
&lt;p&gt;À présent, dupliquez le fichier &lt;code&gt;TWD_land._opt&lt;/code&gt; de &lt;code&gt;Localex1&lt;/code&gt; dans le dossier &lt;code&gt;Localex4&lt;/code&gt; (supprimez le fichier existant s&amp;rsquo;il existe déjà).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Modifiez ensuite le fichier &lt;code&gt;TWD_land.opt&lt;/code&gt; de &lt;code&gt;Localex4&lt;/code&gt; afin de forcer le modèle tactique à suivre les tables de réplicas (&lt;code&gt;PEUPLEMENT1.csv&lt;/code&gt; et &lt;code&gt;PEUPLEMENT2.csv&lt;/code&gt;) pour la récolte dans les types de peuplement1 et peuplement2 (utilisez &lt;a href=&#34;../replanning/#_replicateoutput&#34;&gt;&lt;code&gt;_REPLICATE()&lt;/code&gt;&lt;/a&gt;)&lt;/strong&gt;. En ce faisant, vous devez donc forcer le modèle tactique à faire un certain niveau de récolte dans des entités spatiales particulières du modèle (les peuplements 1 et 2) en vous basant sur des fichiers que vous fournissez au modèle (&lt;code&gt;PEUPLEMENT1.csv&lt;/code&gt; et &lt;code&gt;PEUPLEMENT2.csv&lt;/code&gt;).&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-9&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;Le contenu de &lt;code&gt;TWD_land.opt&lt;/code&gt; du scénario &lt;code&gt;Localex4&lt;/code&gt; doit alors être :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
*OBJECTIVE
_MAX ovolrec - _Penalty(_All) 1.._LENGTH

*EXCLUDE
aCaribou 1.._LENGTH
afire    1.._LENGTH
arecup    1.._LENGTH

*CONSTRAINTS

oVolRec&amp;lt;= 40272 1.._LENGTH _SETFROMGLOBAL(1)

oVolRecPEUPLEMENT1 &amp;lt;= 0 1.._LENGTH _Goal(G1,9999) _REPLICATE(PEUPLEMENT1.csv)
oVolRecPEUPLEMENT1 &amp;gt;= 0 1.._LENGTH _Goal(G2,9999) _REPLICATE(PEUPLEMENT1.csv)
oVolRecPEUPLEMENT2 &amp;lt;= 0 1.._LENGTH _Goal(G3,9999) _REPLICATE(PEUPLEMENT2.csv)
oVolRecPEUPLEMENT2 &amp;gt;= 0 1.._LENGTH _Goal(G4,9999) _REPLICATE(PEUPLEMENT2.csv)

*FORMAT MOSEK

&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;p&gt;Lancez ensuite une replannification avec le modèle stratégique &lt;code&gt;Globalex1&lt;/code&gt; et le modèle tactique &lt;code&gt;Localex4&lt;/code&gt;, avec la commande suivante :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;python Replanner.py -pri ../../Models/TWD_land/TWD_land.pri -str Globalex1 -tac Localex4 -sto Globalnofire -out OVOLREC,OSUPREC,OSUPPL,VOLINVENT,OVOLRECPEUPLEMENT1,OVOLRECPEUPLEMENT2 -fol replanning_EX4 -rep 10 -len 20 -rel 20 -thr 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Une fois que la commande s&amp;rsquo;est éxécutée, &lt;strong&gt;rendez vous dans le fichier &lt;code&gt;Localex4.csv&lt;/code&gt; du dossier &lt;code&gt;replanning_EX4&lt;/code&gt;, et observez les résultats des outputs &lt;code&gt;OVOLRECPEUPLEMENT1&lt;/code&gt; et &lt;code&gt;OVOLRECPEUPLEMENT2&lt;/code&gt;&lt;/strong&gt;. En particulier, vous pouvez creer une table pivot dans un logiciel comme Microsoft Excel afin d&amp;rsquo;obtenir un graphe montrant l&amp;rsquo;évolution de ces mesures à travers les périodes de temps, avec une courbe pour chacune des itérations.&lt;/p&gt;
&lt;p&gt;En même temps, ouvrez les fichiers &lt;code&gt;PEUPLEMENT1.csv&lt;/code&gt; et &lt;code&gt;PEUPLEMENT2.csv&lt;/code&gt;, et observez leur contenu. Chaque colonne correspond à des valeurs que le modèle tactique devait suivre pour une itération, avec chaque ligne contenant une valeur pour une période donnée.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;En comparant le contenu de &lt;code&gt;Localex4.csv&lt;/code&gt; et de &lt;code&gt;PEUPLEMENT1.csv&lt;/code&gt; et &lt;code&gt;PEUPLEMENT2.csv&lt;/code&gt;, qu&amp;rsquo;observez vous ?&lt;/strong&gt;&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-10&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;On peut voir que le modèle tactique à en effet suivi les niveaux de récolte définit dans les fichiers &lt;code&gt;PEUPLEMENT1.csv&lt;/code&gt; et &lt;code&gt;PEUPLEMENT2.csv&lt;/code&gt; pour l&amp;rsquo;output &lt;code&gt;OVOLREC&lt;/code&gt; dans les peuplements 1 et deux.&lt;/p&gt;
&lt;p&gt;En particulier, on peut voir que &lt;code&gt;OVOLRECPEUPLEMENT1&lt;/code&gt; descend à 0 pour la période 4 dans toutes les itérations, comme prévu dans &lt;code&gt;PEUPLEMENT1.csv&lt;/code&gt;. On peut aussi voir que l&amp;rsquo;itération 4 garde une valeur de &lt;code&gt;OVOLRECPEUPLEMENT1&lt;/code&gt; à 10 la plupart du temps, alors que les autres itérations gardent une valeur de 20.&lt;/p&gt;
&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice4_huc7e859ad3f0b3c15be02ba9eb0706f87_23471_9470bb794010af21def849ac8653507a.webp 400w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice4_huc7e859ad3f0b3c15be02ba9eb0706f87_23471_ee0d470fd4fe31ddcef01a03ba9091c6.webp 760w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice4_huc7e859ad3f0b3c15be02ba9eb0706f87_23471_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/grapheExercice2_replanning_Exercice4_huc7e859ad3f0b3c15be02ba9eb0706f87_23471_9470bb794010af21def849ac8653507a.webp&#34;
               width=&#34;752&#34;
               height=&#34;452&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;On peut observer une baisse à 0 pour &lt;code&gt;OVOLRECPEUPLEMENT2&lt;/code&gt; à la période 9 dans toutes les itérations, comme prévu dans &lt;code&gt;PEUPLEMENT2.csv&lt;/code&gt;.&lt;/p&gt;
&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice4-2_huda0281a89648c916315c6044d06702d1_20811_47af8c0520c7eab555dea05e79b278fc.webp 400w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice4-2_huda0281a89648c916315c6044d06702d1_20811_23bf476ab66f32b8b71bc70abed18122.webp 760w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice4-2_huda0281a89648c916315c6044d06702d1_20811_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/grapheExercice2_replanning_Exercice4-2_huda0281a89648c916315c6044d06702d1_20811_47af8c0520c7eab555dea05e79b278fc.webp&#34;
               width=&#34;751&#34;
               height=&#34;436&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;question-5&#34;&gt;Question 5&lt;/h3&gt;
&lt;p&gt;À présent, dupliquez le dossier &lt;code&gt;Localex1&lt;/code&gt; et renommez-le &lt;code&gt;Localex5&lt;/code&gt; (supprimez le dossier existant s&amp;rsquo;il existe déjà).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Modifiez ensuite le fichier &lt;code&gt;TWD_land.opt&lt;/code&gt; de &lt;code&gt;Localex5&lt;/code&gt; afin de forcer ce modèle tactique à ignorer la contrainte de plantation de 90 à 100ha à partir de la période (ou bien de ne la suivre que durant la période 1) en utilisant le mot clé &lt;a href=&#34;../replanning/#_reignoreperiod&#34;&gt;&lt;code&gt;_REIGNORE(période)&lt;/code&gt;&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-11&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;Le contenu de &lt;code&gt;TWD_land.opt&lt;/code&gt; du scénario &lt;code&gt;Localex5&lt;/code&gt; doit alors être :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
*OBJECTIVE
_MAX ovolrec - _Penalty(_All) 1.._LENGTH

*EXCLUDE
aCaribou 1.._LENGTH
afire    1.._LENGTH
arecup    1.._LENGTH

*CONSTRAINTS

oVolRec&amp;lt;= 40272 1.._LENGTH _SETFROMGLOBAL(1)

osuppl &amp;gt;= 90 1 _Goal(G1,9999) _REIGNORE(2)
osuppl &amp;lt;= 100 1 _Goal(G2,9999) _REIGNORE(2)

*FORMAT MOSEK
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;p&gt;Lancez ensuite une replannification avec le modèle stratégique &lt;code&gt;Globalex1&lt;/code&gt; et le modèle tactique &lt;code&gt;Localex5&lt;/code&gt;, avec la commande suivante :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;python Replanner.py -pri ../../Models/TWD_land/TWD_land.pri -str Globalex1 -tac Localex5 -sto Globalnofire -out OVOLREC,OSUPREC,OSUPPL,VOLINVENT -fol replanning_EX5 -rep 10 -len 20 -rel 20 -thr 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Une fois que la commande s&amp;rsquo;est éxécutée, &lt;strong&gt;comparez l&amp;rsquo;évolution de l&amp;rsquo;output du niveau de plantations &lt;code&gt;OSUPPL&lt;/code&gt; dans le modèle tactique &lt;code&gt;Localex1&lt;/code&gt; (dans le dossier &lt;code&gt;replanning_EX1&lt;/code&gt; créé à la question 1) à l&amp;rsquo;évolution de &lt;code&gt;OSUPPL&lt;/code&gt; dans le modèle tactique &lt;code&gt;Localex5&lt;/code&gt; (dans le dossier &lt;code&gt;replanning_EX5&lt;/code&gt;)&lt;/strong&gt;. Comme précédemment, vous pouvez utiliser une table pivot dans un logiciel comme Microsoft Excel afin d&amp;rsquo;obtenir un graphe montrant l&amp;rsquo;évolution de ces mesures à travers les périodes de temps, avec une courbe pour chacune des itérations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Quelles différences observez-vous entre &lt;code&gt;Localex1&lt;/code&gt; et &lt;code&gt;Localex5&lt;/code&gt; ? ?&lt;/strong&gt;&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-12&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;On peut voir que le modèle tactique &lt;code&gt;Localex1&lt;/code&gt; arrive à soutenir le niveau de &lt;code&gt;OSUPPL&lt;/code&gt; pendant un long moment de manière stable, comme montré sur ce graphe :&lt;/p&gt;
&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice5_hubc9bfc51f27b65dc2420cf215a484584_59988_188cd30efea6cf2054069ff5bd1cdeb2.webp 400w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice5_hubc9bfc51f27b65dc2420cf215a484584_59988_7b8033f91edec9e2173280b783807745.webp 760w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice5_hubc9bfc51f27b65dc2420cf215a484584_59988_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/grapheExercice2_replanning_Exercice5_hubc9bfc51f27b65dc2420cf215a484584_59988_188cd30efea6cf2054069ff5bd1cdeb2.webp&#34;
               width=&#34;752&#34;
               height=&#34;452&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;En comparaison, dans &lt;code&gt;Localex5&lt;/code&gt;, on peut voir que le niveau de &lt;code&gt;OSUPPL&lt;/code&gt; est beaucoup plus variable et instable. Il atteind rapidement des valeurs de 0, à cause du fait que les contraintes du modèle le concernant sont ignorées après la période 2, comme montré sur ce graphe :&lt;/p&gt;
&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice5-2_hu14c45209bbd24214027ae8312d55e6ae_66296_238e1ed66cd21fea65e0176c88fdd45e.webp 400w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice5-2_hu14c45209bbd24214027ae8312d55e6ae_66296_5483406fddb26fb28efde99e57551b18.webp 760w,
               /FMTdocs/media/docs/grapheExercice2_replanning_Exercice5-2_hu14c45209bbd24214027ae8312d55e6ae_66296_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/grapheExercice2_replanning_Exercice5-2_hu14c45209bbd24214027ae8312d55e6ae_66296_238e1ed66cd21fea65e0176c88fdd45e.webp&#34;
               width=&#34;752&#34;
               height=&#34;452&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;Ainsi, il semble que le fait d&amp;rsquo;ignorer les contraintes concernant &lt;code&gt;OSUPPL&lt;/code&gt; à bien fonctionné.&lt;/p&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;question-6&#34;&gt;Question 6&lt;/h3&gt;
&lt;p&gt;À présent, dupliquez le dossier &lt;code&gt;Localex1&lt;/code&gt; et renommez-le &lt;code&gt;Localex6&lt;/code&gt; (supprimez le dossier existant s&amp;rsquo;il existe déjà).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Modifiez ensuite le fichier &lt;code&gt;TWD_land.opt&lt;/code&gt; de &lt;code&gt;Localex6&lt;/code&gt; afin de forcer ce modèle tactique à réaliser de 100% du niveau de récolte (&lt;code&gt;OVOLREC&lt;/code&gt;) du modèle stratégique, avec une variabilité de 1% autorisée pour le dépassement de la valeur (donc au moins 100%, et au plus 101%) avec le mot clé &lt;a href=&#34;../replanning/#_setfromglobalratio&#34;&gt;&lt;code&gt;_SETFROMGLOBAL(poids)&lt;/code&gt;&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-13&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;Le contenu de &lt;code&gt;TWD_land.opt&lt;/code&gt; du scénario &lt;code&gt;Localex6&lt;/code&gt; doit alors être :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
*OBJECTIVE
_MAX ovolrec - _Penalty(_All) 1.._LENGTH

*EXCLUDE
aCaribou 1.._LENGTH
afire    1.._LENGTH
arecup    1.._LENGTH

*CONSTRAINTS

oVolRec&amp;lt;= 40272 1.._LENGTH _SETFROMGLOBAL(1)

osuprec &amp;lt;= 40272 1.._LENGTH _Goal(G1,9999) _SETFROMGLOBAL(1.0)
osuprec &amp;gt;= 40272 1.._LENGTH _Goal(G2,9999) _SETFROMGLOBAL(0.99)

*FORMAT MOSEK

&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;p&gt;Lancez ensuite une replannification avec le modèle stratégique &lt;code&gt;Globalex1&lt;/code&gt; et le modèle tactique &lt;code&gt;Localex6&lt;/code&gt;, avec la commande suivante :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;python Replanner.py -pri ../../Models/TWD_land/TWD_land.pri -str Globalex1 -tac Localex6 -sto Globalnofire -out OVOLREC,OSUPREC,OSUPPL,VOLINVENT -fol replanning_EX6 -rep 10 -len 20 -rel 20 -thr 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Une fois que la commande s&amp;rsquo;est éxécutée, regardez les sorties présentes dans le dossier &lt;code&gt;Examples/Python/replanning/replanning_EX6&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comparez à présent la probabilité de maintenir une récolte similaire à l&amp;rsquo;exercice 1 (avec &lt;code&gt;Localex1&lt;/code&gt;) en regardant le contenu de &lt;code&gt;outputsdrift.csv&lt;/code&gt; dans &lt;code&gt;replanning_EX1&lt;/code&gt; et &lt;code&gt;replanning_EX6&lt;/code&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Quelles différences observez-vous ?&lt;/strong&gt;&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-14&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;On observe que la probabilité de maintient de &lt;code&gt;OVOLREC&lt;/code&gt; dans le modèle tactique au-dessus d&amp;rsquo;une diminution de 5% par rapport au modèle stratégique est relativement similaire entre &lt;code&gt;Localex1&lt;/code&gt; et &lt;code&gt;Localex6&lt;/code&gt;; si ce n&amp;rsquo;est que &lt;code&gt;Localex6&lt;/code&gt; à une valeur plus basse de cette probabilité à la période 7, quand celle-ci chute vers 0.&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;question-7&#34;&gt;Question 7&lt;/h3&gt;
&lt;p&gt;À présent, dupliquez le dossier &lt;code&gt;Globalex1&lt;/code&gt; et renommez-le &lt;code&gt;Globalex7&lt;/code&gt; (supprimez le dossier existant s&amp;rsquo;il existe déjà).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Modifiez ensuite le fichier &lt;code&gt;TWD_land.opt&lt;/code&gt; de &lt;code&gt;Globalex7&lt;/code&gt; afin de forcer le scénario &lt;code&gt;Globalex7&lt;/code&gt; à réaliser au moins 99% du niveau de récolte &lt;code&gt;OVOLREC&lt;/code&gt; du modèle tactique&lt;/strong&gt;.&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-15&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;Le contenu de &lt;code&gt;TWD_land.opt&lt;/code&gt; du scénario &lt;code&gt;Globalex7&lt;/code&gt; doit alors être :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
*OBJECTIVE
_MAXMIN oVolRec - _Penalty(_All) 1.._LENGTH

*EXCLUDE
aCaribou 1.._LENGTH
afire    1.._LENGTH
arecup    1.._LENGTH

*CONSTRAINTS

osuprec &amp;lt;= 40272 1.._LENGTH _Goal(G1,9999) _SETFROMLOCAL(1.0)
osuprec &amp;gt;= 40272 1.._LENGTH _Goal(G2,9999) _SETFROMLOCAL(0.99)

_NDY(oVolRec) 1.._LENGTH


*FORMAT MOSEK

&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;
&lt;/details&gt;
&lt;p&gt;Lancez ensuite une replannification avec le modèle stratégique &lt;code&gt;Globalex7&lt;/code&gt; et le modèle tactique &lt;code&gt;Localex1&lt;/code&gt;, avec la commande suivante :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;python Replanner.py -pri ../../Models/TWD_land/TWD_land.pri -str Globalex7 -tac Localex1 -sto Globalnofire -out OVOLREC,OSUPREC,OSUPPL,VOLINVENT -fol replanning_EX7 -rep 10 -len 20 -rel 20 -thr 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Une fois que la commande s&amp;rsquo;est éxécutée, regardez les sorties présentes dans le dossier &lt;code&gt;Examples/Python/replanning/replanning_EX7&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Observez à présent comment se compare le maintient du niveau des plantations (output &lt;code&gt;OSSUPL&lt;/code&gt;) entre ceux de la question 1, et ceux de cette replannification en regardant les fichiers &lt;code&gt;outputsdrift.csv&lt;/code&gt; de &lt;code&gt;replanning_EX1&lt;/code&gt; et &lt;code&gt;replanning_EX7&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comment se comparent le maintient du niveau de &lt;code&gt;OSSUPL&lt;/code&gt; par rapport à la question 1 ?&lt;/strong&gt;&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-16&#34;&gt;
  &lt;summary&gt;Révéler la correction&lt;/summary&gt;
  &lt;p&gt;&lt;p&gt;On peut remarquer que pour la question 1 et cette question, &lt;code&gt;OSSUPL&lt;/code&gt; garde une probabilité très basse de se maintenir au dela d&amp;rsquo;une grande diminution dès les premières périodes lorsque l&amp;rsquo;on compare le modèle tactique et stratégique.&lt;/p&gt;
&lt;p&gt;Cependant, même pour des valeurs de drifts très hautes (e.g. 50%), on peut voir que &lt;code&gt;OSSUPL&lt;/code&gt; à tendance à avoir une plus haute probabilité de grandement diminuer sa valeur avec &lt;code&gt;Globalex7&lt;/code&gt; plutot qu&amp;rsquo;avec &lt;code&gt;Globalex1&lt;/code&gt;.&lt;/p&gt;
&lt;/p&gt;
&lt;/details&gt;
</description>
    </item>
    
    <item>
      <title>Planification des Compartiments d&#39;Organisation Spatiale (COS)</title>
      <link>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/operational_area_scheduling/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>https://bureau-du-forestier-en-chef.github.io/FMTdocs/fr/docs/advanced/operational_area_scheduling/</guid>
      <description>&lt;h2 id=&#34;les-cos-et-la-planification-spatiale-des-coupes&#34;&gt;Les COS et la planification spatiale des coupes&lt;/h2&gt;
&lt;p&gt;Un COS (&lt;em&gt;Compartiment d&amp;rsquo;Organisation Spatiale&lt;/em&gt;) est une aire de forêt que l&amp;rsquo;on peut utiliser pour agréger des zones de coupes forestières dans l&amp;rsquo;espace. Dans Woodstock, elle est représentée de manière spatialement référencée par un groupe d&amp;rsquo;aires ou des peuplements qui partagent un numéro de COS commun.&lt;/p&gt;














&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/Figure%201-%20explication%20COS_hu9c3954e6535866c11b5657b20150f407_156266_fce40dbe64b7fe64aedc96149967a6cc.webp 400w,
               /FMTdocs/media/docs/Figure%201-%20explication%20COS_hu9c3954e6535866c11b5657b20150f407_156266_03a9b8fb38a15c3487649f9c070e9936.webp 760w,
               /FMTdocs/media/docs/Figure%201-%20explication%20COS_hu9c3954e6535866c11b5657b20150f407_156266_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/Figure%201-%20explication%20COS_hu9c3954e6535866c11b5657b20150f407_156266_fce40dbe64b7fe64aedc96149967a6cc.webp&#34;
               width=&#34;760&#34;
               height=&#34;205&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;L&amp;rsquo;agrégation des coupes forestières a été pendant un temps vue d&amp;rsquo;un mauvais œil dans certains pays à cause des vastes étendues de forêts coupées continues qu&amp;rsquo;elle pouvait générer. Cependant, elle est aujourd&amp;rsquo;hui considérée à nouveau dans le but de minimiser l&amp;rsquo;étendue des zones de coupes au niveau du paysage, ainsi que la quantité de chemins forestiers générés. Le prix des coupes en est également réduit par une réduction des déplacements et de la complexité lors des interventions forestières.&lt;/p&gt;
&lt;p&gt;FMT propose ainsi différentes fonctions qui permettent de dériver un calendrier d&amp;rsquo;ouverture et de fermeture de COS qui respecte plusieurs contraintes spatiales données quant à la taille des zones de coupes. Ainsi, le calendrier va fermer des COS trop proches lorsque cela pourrait causer des tailles de coupes trop grandes si elles étaient choisies, ou bien forcer de grandes coupes en restreignant les COS disponibles pour la coupe.&lt;/p&gt;














&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/Figure%202%20-%20Explication%20calendrier_hua3426d7a490245ac3a13cab05261da04_225321_775de02e21e40cc9ed34285434abb296.webp 400w,
               /FMTdocs/media/docs/Figure%202%20-%20Explication%20calendrier_hua3426d7a490245ac3a13cab05261da04_225321_b50114129793082b2ca695558753e1be.webp 760w,
               /FMTdocs/media/docs/Figure%202%20-%20Explication%20calendrier_hua3426d7a490245ac3a13cab05261da04_225321_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/Figure%202%20-%20Explication%20calendrier_hua3426d7a490245ac3a13cab05261da04_225321_775de02e21e40cc9ed34285434abb296.webp&#34;
               width=&#34;760&#34;
               height=&#34;255&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;Ce calendrier d&amp;rsquo;ouverture et de fermeture de COS va ainsi permettre de communiquer les contraintes spatiales aux modèles de programmation linéaire basés sur des fichiers Woodstock que FMT utilise (voir &lt;a href=&#34;../../basics/spatially_referenced_optimization/&#34;&gt;les bases de FMT&lt;/a&gt;). FMT va alors pouvoir générer une nouvelle solution pour un modèle avec l&amp;rsquo;ajout de ce calendrier. Bien évidemment, lorsque l&amp;rsquo;on ajoute des contraintes additionnelles au modèle, cela a généralement pour cause de réduire la quantité de bois qui est récoltable dans la solution optimale. Ainsi, l&amp;rsquo;ajout de ce calendrier d&amp;rsquo;ouvertures et de fermetures de COS va réduire le bois récolté dans la nouvelle solution générée par FMT.&lt;/p&gt;
&lt;p&gt;L&amp;rsquo;idée est alors de trouver un calendrier &amp;ldquo;optimal&amp;rdquo; qui va réduire le moins possible la quantité de bois récoltable dans la solution du modèle. On peut le faire par le biais du processus itératif suivant :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On calcule la solution du modèle sans calendrier.&lt;/li&gt;
&lt;li&gt;On génère un premier calendrier d&amp;rsquo;ouverture et de fermeture de COS qui respecte les contraintes spatiales données.
&lt;ul&gt;
&lt;li&gt;Ce calendrier est simplement &amp;ldquo;réalisable&amp;rdquo;; il n&amp;rsquo;est pas forcément optimisé, mais respecte simplement toutes les contraintes.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;On ajoute le calendrier au modèle, et on recalcule la solution du modèle.&lt;/li&gt;
&lt;li&gt;On compare la quantité de bois récolté dans la première solution (sans calendrier) avec cette nouvelle solution (avec calendrier). On obtient le % de réduction de bois récoltable dont le calendrier est responsable.
&lt;ul&gt;
&lt;li&gt;Le but est alors d&amp;rsquo;optimiser le calendrier pour réduire ce pourcentage autant que possible.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;On réalise ensuite la boucle suivante (appellée un &lt;em&gt;greedy algorithm&lt;/em&gt;) avec autant d&amp;rsquo;itérations que nécessaire :
&lt;ul&gt;
&lt;li&gt;On change le calendrier des COS de manière aléatoire tout en faisant en sorte qu&amp;rsquo;il continue de respecter toutes les contraintes spatiales&lt;/li&gt;
&lt;li&gt;On insère le calendrier dans le modèle et l&amp;rsquo;on recalcule la solution&lt;/li&gt;
&lt;li&gt;Si le calendrier a réduit le pourcentage de réduction de bois récoltable, on garde la modification aléatoire pour l&amp;rsquo;itération suivante
&lt;ul&gt;
&lt;li&gt;Sinon, on annule cette modification aléatoire et l&amp;rsquo;on en cherche une autre&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;














&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/Figure%203%20-%20Greedy%20Algorithm%20COS_hu57a9e10c282d77b4e933656ea5b7a6b8_431230_e38140421623e7c405e90abed365606f.webp 400w,
               /FMTdocs/media/docs/Figure%203%20-%20Greedy%20Algorithm%20COS_hu57a9e10c282d77b4e933656ea5b7a6b8_431230_8045d34815fe858fea55d0625ccc0eb0.webp 760w,
               /FMTdocs/media/docs/Figure%203%20-%20Greedy%20Algorithm%20COS_hu57a9e10c282d77b4e933656ea5b7a6b8_431230_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/Figure%203%20-%20Greedy%20Algorithm%20COS_hu57a9e10c282d77b4e933656ea5b7a6b8_431230_e38140421623e7c405e90abed365606f.webp&#34;
               width=&#34;760&#34;
               height=&#34;472&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Il est possible de résoudre le problème de l&amp;rsquo;optimisation du calendrier avec des méthodes plus complexes, comme celle du &lt;em&gt;mixed integer programming&lt;/em&gt; (MIP) pour obtenir une solution vraiment optimale.
Cependant, ces algorithmes peuvent demander beaucoup trop de calcul pour des modèles de programmation linéaire qui concernent des paysages forestiers complexes. Dans ce cas-là, le &lt;em&gt;greedy algorithm&lt;/em&gt; est utile pour éviter des temps de calcul trop longs.
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;limplémentation-des-cos-dans-des-fichiers-woodstock&#34;&gt;L&amp;rsquo;implémentation des COS dans des fichiers Woodstock&lt;/h2&gt;
&lt;p&gt;La syntaxe des fichiers Woodstock n&amp;rsquo;est pas faite pour permettre de l&amp;rsquo;optimisation via des contraintes spatiales. Cependant, le système des COS utilisé par FMT peut être mis en place dans des fichiers Woodstock par le biais d&amp;rsquo;un &lt;em&gt;yield&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Par exemple, il est possible de créer un &lt;em&gt;yield&lt;/em&gt; nommé &lt;code&gt;youvert&lt;/code&gt; qui décrit si un peuplement est disponible à la récolte ou non. Ce &lt;em&gt;yield&lt;/em&gt; peut alors être assigné à un numéro de COS présent dans un thème, et va donc s&amp;rsquo;appliquer à tous les peuplements qui sont associés à ce numéro de COS via ce même thème. Il peut ensuite servir à restreindre certaines actions (e.g., des coupes) au sein du modèle.&lt;/p&gt;
&lt;p&gt;Dans la section &lt;code&gt;YIELD&lt;/code&gt; du modèle woodstock, ce &lt;em&gt;yield&lt;/em&gt; qui indique quand un COS est ouvert ou fermé aura une valeur pour chacune des périodes du modèle. Cet enchainement de valeurs représente donc le calendrier d&amp;rsquo;ouverture ou de fermeture des COS. En pratique, la section YIELD qui contient le calendrier formulé par FMT prendra la forme suivante (ici, le yield &lt;code&gt;youvert&lt;/code&gt; indique si un COS est ouvert ou fermé) :&lt;/p&gt;














&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/Dessin_Yield_FR_hu8389fc96fab242f806bbfa715231dc13_515811_81da5f04eb5f8f7975953bf5b0b7f89b.webp 400w,
               /FMTdocs/media/docs/Dessin_Yield_FR_hu8389fc96fab242f806bbfa715231dc13_515811_65bf6f71138152f7072c6b73e1455a6e.webp 760w,
               /FMTdocs/media/docs/Dessin_Yield_FR_hu8389fc96fab242f806bbfa715231dc13_515811_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/Dessin_Yield_FR_hu8389fc96fab242f806bbfa715231dc13_515811_81da5f04eb5f8f7975953bf5b0b7f89b.webp&#34;
               width=&#34;760&#34;
               height=&#34;404&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;Pour ce qui est d&amp;rsquo;une action dans le modèle comme une coupe, le &lt;em&gt;yield&lt;/em&gt; peut être utilisé de la manière suivante dans la section ACTION du modèle pour restreindre l&amp;rsquo;action à des COS ouverts :&lt;/p&gt;














&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /FMTdocs/media/docs/Dessin_Yield_Action_FR_hue567deedb2f91b6de78af6a7e3d2c226_291964_ec7d1e821629edc27f1f462b8dbf1b76.webp 400w,
               /FMTdocs/media/docs/Dessin_Yield_Action_FR_hue567deedb2f91b6de78af6a7e3d2c226_291964_a69daa21afdf841deab791cd228ad856.webp 760w,
               /FMTdocs/media/docs/Dessin_Yield_Action_FR_hue567deedb2f91b6de78af6a7e3d2c226_291964_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://bureau-du-forestier-en-chef.github.io/FMTdocs/FMTdocs/media/docs/Dessin_Yield_Action_FR_hue567deedb2f91b6de78af6a7e3d2c226_291964_ec7d1e821629edc27f1f462b8dbf1b76.webp&#34;
               width=&#34;760&#34;
               height=&#34;381&#34;
               loading=&#34;eager&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;h2 id=&#34;fonctions-utilisées-et-paramètres-nécessaires&#34;&gt;Fonctions utilisées et paramètres nécessaires&lt;/h2&gt;
&lt;p&gt;FMT propose plusieurs fonctions qui permettent de créer un calendrier optimisé d&amp;rsquo;ouverture et de fermeture de COS dans FMT. Ces fonctions nécessitent différents paramètres qui seront décrits ici.&lt;/p&gt;
&lt;div class=&#34;alert alert-warning&#34;&gt;
  &lt;div&gt;
    &lt;p&gt;Cette documentation ne traitera pas du problème de la définition des COS, que l&amp;rsquo;on appelle le &lt;em&gt;clustering&lt;/em&gt;. Idéalement, définir les COS (c.-à-d. attribuer des numéros de COS a des peuplements) devrait se faire en même temps qu&amp;rsquo;optimiser le calendrier; mais cela représente une opération très complexe. Ainsi, le clustering est généralement fait en amont de l&amp;rsquo;optimisation du calendrier, en regroupant des strates similaires et proches dans l&amp;rsquo;espace.&lt;/p&gt;
&lt;p&gt;Ainsi, &lt;strong&gt;pour pouvoir utiliser les fonctions suivantes, les COS doivent déjà avoir été insérés dans les fichiers du modèle sous forme de numéros de COS associés aux peuplements par des masques&lt;/strong&gt;. Voir la &lt;a href=&#34;#limpl%c3%a9mentation-des-cos-dans-des-fichiers-woodstock&#34;&gt;section précédente&lt;/a&gt; pour plus d&amp;rsquo;information.&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;création-des-cos-au-sein-dun-modèle-de-programmation-linéaire-dans-fmt&#34;&gt;Création des COS au sein d&amp;rsquo;un modèle de programmation linéaire dans FMT&lt;/h3&gt;
&lt;p&gt;Dans FMT, une fois qu&amp;rsquo;un modèle linéaire a été créé en se basant sur des fichiers woodstock (voir &lt;a href=&#34;../../basics/spatially_referenced_optimization/&#34;&gt;les bases de FMT&lt;/a&gt;), il est possible de créer la structure des COS au sein du modèle (voir sections précédentes) par le biais de la fonction &lt;code&gt;Heuristics.FMToperatingareascheme()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;La fonction &lt;code&gt;Heuristics.FMToperatingareascheme()&lt;/code&gt; sert à construire un seul COS au sein du modèle, et doit donc être répétée pour chacun des COS qui doit être créé. Elle nécessite différents paramètres. Ces paramètres servent à donner des contraintes sur comment et quand un COS peut être ouvert dans le calendrier.&lt;/p&gt;
&lt;p&gt;Vous trouverez un exemple de cette création dans la &lt;a href=&#34;#exemple-de-script&#34;&gt;section suivante&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;alert alert-warning&#34;&gt;
  &lt;div&gt;
    Le calendrier d&amp;rsquo;ouverture et de fermeture des COS que FMT pourra créer par la suite est très sensible à ces différents paramètres. Si ceux-ci sont mal indiqués, FMT pourrait être incapable de trouver une solution réalisable au modèle.
  &lt;/div&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Le premier paramètre contient le COS à créer en soi. Celui-ci peut être construit à l&amp;rsquo;aide de la fonction &lt;code&gt;Heuristics.FMToperatingarea()&lt;/code&gt;, qui prend elle-même deux paramètres : le premier est le masque qui va décrire quels peuplements seront contenus dans ce COS, et le second est le &lt;code&gt;neihgbors perimeter&lt;/code&gt;, ou &lt;em&gt;périmètre des voisins&lt;/em&gt;. Ce second paramètre décrit le ratio du périmètre du COS que celui-ci doit avoir en commun avec un autre COS pour que les deux soient considérés comme voisins. Par exemple, si le périmètre des voisins est de 0.5, alors 50% du périmètre du COS doit être partagé avec un autre COS pour qu&amp;rsquo;ils soient considérés comme voisins.&lt;/li&gt;
&lt;li&gt;Le deuxième paramètre est le &lt;code&gt;opening time&lt;/code&gt;, ou le temps d&amp;rsquo;ouverture. Il définit combien de temps le COS doit rester ouvert lorsqu&amp;rsquo;il est ouvert sur une période. Par exemple, si le temps d&amp;rsquo;ouverture est de 5, alors le COS sera toujours ouvert pour 5 périodes à la fois.&lt;/li&gt;
&lt;li&gt;Le troisième paramètre est le &lt;code&gt;return time&lt;/code&gt;, ou temps de retour. Il correspond au nombre de périodes de temps qui doivent être respectés avant que le COS soit réouvert dans le futur. Par exemple, si le temps de retour est de 5, alors il doit y avoir au moins 5 périodes de temps entre deux ouvertures du COS.&lt;/li&gt;
&lt;li&gt;Le quatrième paramètre est le &lt;code&gt;repetition pattern&lt;/code&gt;, ou la répétition du patron de récolte. Il est supérieur ou égal à 1, et il va effectivement forcer le COS à suivre plusieurs fois un patron d&amp;rsquo;ouvertures/fermetures dans le temps qui correspond à une alternance entre son temps d&amp;rsquo;ouverture et de fermeture. Par exemple, pour un temps d&amp;rsquo;ouverture de 2, un temps de fermeture de 3 et une valeur de répétition du patron de récolte de 2, une fois le COS ouvert, il suivra automatiquement le calendrier &amp;ldquo;ouvert, ouvert, fermé, fermé, fermé, ouvert, ouvert, fermé, fermé, fermé&amp;rdquo;, ce qui correspondant à 2 répétitions de ses paramètres d&amp;rsquo;ouverture et de fermeture.&lt;/li&gt;
&lt;li&gt;Le cinquième paramètre est la &lt;code&gt;green up period&lt;/code&gt;, ou période de verdissement. Elle correspond au délai que doit attendre le COS pour être ouvert à nouveau si un COS voisin est récolté. Les COS voisins sont en retour trouvés grâce au périmètre des voisins donné plus tôt.&lt;/li&gt;
&lt;li&gt;Le sixième paramètre est la &lt;code&gt;starting period&lt;/code&gt;, ou période de départ. Elle correspond à la période à partir de laquelle le COS peut commencer à être ouvert dans le modèle.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tous les COS créés par la fonction &lt;code&gt;Heuristics.FMToperatingareascheme()&lt;/code&gt; doivent idéalement être mis au sein d&amp;rsquo;une liste, qui sera donnée en paramètre à une autre fonction par la suite.&lt;/p&gt;
&lt;h3 id=&#34;détermination-des-cos-voisins-pour-utiliser-des-contraintes-spatiales-avancées&#34;&gt;Détermination des COS voisins pour utiliser des contraintes spatiales avancées&lt;/h3&gt;
&lt;p&gt;Il est possible que vous ayez un fichier shapefile contenant la position dans l&amp;rsquo;espace de chacun des COS.&lt;/p&gt;
&lt;p&gt;Si c&amp;rsquo;est le cas, il est alors possible de déterminer quels COS sont voisins en lisant le fichier shapefile, et en comparant les numéros des polygones correspondant aux COS dans ce fichier shapefile avec ceux qui se trouvent dans les fichiers du modèle linéaire. Cela permet d&amp;rsquo;utiliser la contrainte spatiale déterminée par le paramètre &lt;code&gt;green up period&lt;/code&gt; décrit dans la &lt;a href=&#34;#cr%c3%a9ation-des-cos-au-sein-dune-mod%c3%a8le-de-programmation-lin%c3%a9aire-dans-fmt&#34;&gt;section précédente&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;alert alert-warning&#34;&gt;
  &lt;div&gt;
    &lt;p&gt;Pour utiliser les fonctions suivantes, &lt;strong&gt;les premiers attributs présents dans le fichier shapefile/vectoriel doivent correspondre aux thèmes présents dans les fichiers Woodstock de votre modèle&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Le fichier shapefile ou vectoriel peut contenir d&amp;rsquo;autres attributs par la suite; mais sans ces premiers attributs correspondants aux thèmes des fichiers Woodstock, les fonctions de FMT ne pourront pas reconnaitre quel polygone correspond à quel COS, et elles ne fonctionneront pas.&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Pour cela, il est possible d&amp;rsquo;utiliser la fonction &lt;code&gt;getschemeneighbors()&lt;/code&gt; d&amp;rsquo;un objet &lt;code&gt;FMTareaparser&lt;/code&gt; créé auparavant, et de lui fournir la liste de COS crée par le biais de &lt;code&gt;Heuristics.FMToperatingareascheme()&lt;/code&gt; (voir &lt;a href=&#34;#cr%c3%a9ation-des-cos-au-sein-dune-mod%c3%a8le-de-programmation-lin%c3%a9aire-dans-fmt&#34;&gt;section précédente&lt;/a&gt;) ainsi que le fichier shapefile (ou un autre type de fichier vectoriel) qui contient les COS. Il suffit ensuite d&amp;rsquo;indiquer quels sont les champs du fichier shapefile qui contiennent les informations liées à l&amp;rsquo;âge des COS et leur aire. Il est possible d&amp;rsquo;utiliser des paramètres optionnels afin de ne pas considérer les COS avec des aires trop petites.&lt;/p&gt;
&lt;p&gt;En se faisant, la fonction &lt;code&gt;getschemeneighbors()&lt;/code&gt; renverra une liste de COS similaire à celle créée par &lt;code&gt;Heuristics.FMToperatingareascheme()&lt;/code&gt;; cependant, pour chacun des COS, le vecteur indiquant la liste de leurs voisins spatiaux sera rempli.&lt;/p&gt;
&lt;p&gt;Cela devrait prendre la forme suivante :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# On créer l&#39;objet FMTareaparser
areap = Parser.FMTareaparser()
# On indique le chemin du fichier shapefile
shapefileLocation = &amp;quot;./spatialCompartments.shp&amp;quot;
# On utilise la fonction sur une liste de COS deja crée avec Heuristics.FMToperatingareascheme() auparavant, operaeas
# L&#39;objet &amp;quot;modelthemes&amp;quot; contient les themes du modèle
# La liste sera mise a jour avec des COS qui contiennent leur vecteur de voisins remplis selon leur position dans l&#39;espace décrite dans le fichier vectoriel spatialCompartments.shp donné en argument
opeareas = areap.getschemeneighbors(opeareas,modelthemes,shapefileLocation,&amp;quot;AGE&amp;quot;,&amp;quot;SUPERFICIE&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pour plus d&amp;rsquo;informations, voir la &lt;a href=&#34;../../../../doxygen/html/classParser_1_1FMTareaparser.html#a000283e41dfb73733984a4292b6dfa4a&#34;&gt;page doxygen de &lt;code&gt;FMTareaparser&lt;/code&gt; et la section sur &lt;code&gt;getschemeneighbors&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;création-dun-output-node-lié-aux-actions-influencées-par-le-calendrier-des-cos&#34;&gt;Création d&amp;rsquo;un &lt;em&gt;output node&lt;/em&gt; lié aux actions influencées par le calendrier des COS.&lt;/h3&gt;
&lt;p&gt;Afin de pouvoir commencer à optimiser le calendrier des COS (voir &lt;a href=&#34;#lancement-du-greedy-algorithm-et-r%c3%a9cup%c3%a9ration-du-calendrier-optimis%c3%a9&#34;&gt;section suivante&lt;/a&gt;), il faut fournir à FMT différentes informations quand aux actions et aux peuplements qui seront affectés par les COS. Pour ce faire, FMT a besoin des &lt;code&gt;FMToutputnode&lt;/code&gt; liés aux actions qui seront visées par les ouvertures et fermeture de COS (par exemple, un type de coupes qui ne peuvent pas se faire trop proches les une des autres). Ces objets sont seulement utilisés parce qu&amp;rsquo;ils sont les plus utiles pour cette étape, et non pas parce qu&amp;rsquo;ils sont les seuls qui peuvent donner ces informations à FMT.&lt;/p&gt;
&lt;p&gt;Les objets &lt;code&gt;FMToutputnode&lt;/code&gt; contiennent les &lt;em&gt;output nodes&lt;/em&gt; du modèle linéaire. Ces derniers sont composés de 4 éléments : un masque (pour définir les peuplements considérés par l&amp;rsquo;&lt;em&gt;output node&lt;/em&gt;), une action, un yield, et un paramètre qui peut être utilisé pour modifier le yield. Par exemple, un &lt;em&gt;output node&lt;/em&gt; peut concerner 80% du volume brut récolté par les coupes totales dans tous les peuplements via la mention &lt;code&gt;? ? ? coupetotale volumebrut * 0.88&lt;/code&gt;. Les &lt;em&gt;output nodes&lt;/em&gt; sont indiqués dans le fichier &lt;code&gt;.out&lt;/code&gt; de la formulation Woodstock. Plusieurs &lt;em&gt;output nodes&lt;/em&gt; peuvent alors être combiné pour donner un seul output.&lt;/p&gt;
&lt;p&gt;Afin de fournir ces &lt;code&gt;FMToutputnode&lt;/code&gt; à FMT, deux méthodes sont disponibles :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Il est possible de créer un nouvel objet &lt;code&gt;FMToutputnode&lt;/code&gt; qui contiendra toutes les actions visées par les COS en faisant un agrégat de ces actions. Pour ce faire, il suffit d&amp;rsquo;indiquer un nom d&amp;rsquo;agrégat d&amp;rsquo;action à toutes les actions visées via la fonction &lt;code&gt;push_aggregate()&lt;/code&gt; associées aux objets &lt;code&gt;FMTaction&lt;/code&gt;; puis, à fournir ce nom d&amp;rsquo;agrégats au constructeur de &lt;code&gt;FMToutputnode&lt;/code&gt;. Si ces actions concernent tous les peuplements possibles, le constructeur poura alors prendre la forme &lt;code&gt;FMToutputnode(Core.FMTmask((&amp;quot;? &amp;quot;*len(themes))[:-1],themes),Agg_name)&lt;/code&gt;, avec &lt;code&gt;Agg_name&lt;/code&gt; contenant le nom de l&amp;rsquo;agrégat des actions visées par les COS.&lt;/li&gt;
&lt;li&gt;Il est aussi possible de récupérer un &lt;code&gt;FMToutputnode&lt;/code&gt; qui est contenu dans l&amp;rsquo;un des &lt;code&gt;FMToutput&lt;/code&gt; du modèle directement via la fonction &lt;code&gt;getnodes()&lt;/code&gt; associée aux objets &lt;code&gt;FMToutput&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Un exemple de la deuxième méthode est montré dans &lt;a href=&#34;#exemple-de-script&#34;&gt;l&amp;rsquo;exemple de script&lt;/a&gt; plus bas.&lt;/p&gt;
&lt;h3 id=&#34;lancement-du-greedy-algorithm-et-récupération-du-calendrier-optimisé&#34;&gt;Lancement du &lt;em&gt;greedy algorithm&lt;/em&gt; et récupération du calendrier optimisé&lt;/h3&gt;
&lt;p&gt;La dernière étape est de lancer le &lt;em&gt;greedy algorithm&lt;/em&gt; pour créer un calendrier optimisé.&lt;/p&gt;
&lt;p&gt;Pour ce faire, il suffit de créer un objet qui va contenir la &amp;ldquo;tâche&amp;rdquo; du greedy algorithm, et de donner cette tâche à une fonction de FMT qui s&amp;rsquo;occupe de lancer les tâches parallèles. Ces deux étapes sont essentielles, car le &lt;em&gt;greedy algorithm&lt;/em&gt; de FMT utilise des tâches en parallèle afin de réaliser les différentes itérations de l&amp;rsquo;algorithme aussi rapidement que possible.&lt;/p&gt;
&lt;p&gt;La création de l&amp;rsquo;objet contenant la tâche de l&amp;rsquo;algorithme se fait via la fonction &lt;code&gt;Parallel.FMTopareaschedulertask()&lt;/code&gt;. La fonction nécessite 7 paramètres :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le &lt;code&gt;FMTlpmodel&lt;/code&gt; qui contient le modèle linéaire pour lequel on veut faire le calendrier des COS&lt;/li&gt;
&lt;li&gt;Un objet contenant la liste de COS (voir la &lt;a href=&#34;#cr%C3%A9ation-des-cos-au-sein-dune-mod%C3%A8le-de-programmation-lin%C3%A9aire-dans-fmt&#34;&gt;section précédente&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Le &lt;em&gt;output node&lt;/em&gt; créé dans la &lt;a href=&#34;#cr%C3%A9ation-dun-noeud-li%C3%A9s-aux-actions-influenc%C3%A9es-par-le-calendrier-des-cos&#34;&gt;section précédente&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Une chaine de caractères (&lt;em&gt;string&lt;/em&gt;) qui indique où les fichiers créés par la fonction (qui contiennent des informations sur le calendrier optimisé final) seront copiés&lt;/li&gt;
&lt;li&gt;Une chaine de caractères (&lt;em&gt;string&lt;/em&gt;) indiquant le nom de l&amp;rsquo;output lié au statut ouvert ou fermé des COS (par exemple &lt;code&gt;youvert&lt;/code&gt;; voir sections précédentes)&lt;/li&gt;
&lt;li&gt;Un nombre indiquant le nombre maximum d&amp;rsquo;itérations que le &lt;em&gt;greedy algorithm&lt;/em&gt; peut réaliser avant de s&amp;rsquo;arrêter (voir sections précédentes)&lt;/li&gt;
&lt;li&gt;Un nombre indiquant le temps maximal (en secondes) que le &lt;em&gt;greedy algorithm&lt;/em&gt; peut prendre avant de s&amp;rsquo;arrêter; l&amp;rsquo;algorithme s&amp;rsquo;arrettera si ce temps ou si le nombre d&amp;rsquo;itérations maximal est atteint&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Une fois que l&amp;rsquo;objet contenant la tâche est créé avec cette fonction, il doit être passé à la fonction &lt;code&gt;Parallel.FMTtaskhandler()&lt;/code&gt;. Cette fonction peut accepter un second paramètre qui indique le nombre de cœurs du processeur de l&amp;rsquo;ordinateur que la fonction utilisera pour réaliser les opérations en parallèle. La fonction retournera un objet &lt;code&gt;FMTtaskhandler&lt;/code&gt;, qui peut ensuite lancer l&amp;rsquo;algorithme pour de bon à l&amp;rsquo;aide de la fonction &lt;code&gt;conccurentrun()&lt;/code&gt; de l&amp;rsquo;objet.&lt;/p&gt;
&lt;p&gt;Il est aussi possible de ne pas lancer le &lt;em&gt;greedy algorithm&lt;/em&gt;, mais d&amp;rsquo;obtenir un premier calendrier non optimisé, mais simplement &amp;ldquo;réalisable&amp;rdquo;. Pour cela, il suffit d&amp;rsquo;utiliser la fonction &lt;code&gt;getoperatingareaschedulerheuristics()&lt;/code&gt; d&amp;rsquo;un objet &lt;code&gt;FMTlpmodel&lt;/code&gt; en lui fournissant un objet contenant la liste des COS et un &lt;em&gt;output node&lt;/em&gt;, ainsi que le nombre de calendriers non optimisés que l&amp;rsquo;on veut obtenir. Un exemple est montré dans &lt;a href=&#34;https://github.com/Bureau-du-Forestier-en-chef/FMT/blob/bb5aedacd33178f479769ea77d000307e134e3f3/Examples/Python/Operatingareascheduling.py&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ce script&lt;/a&gt; aux lignes 34-35.&lt;/p&gt;
&lt;h2 id=&#34;exemple-de-script&#34;&gt;Exemple de script&lt;/h2&gt;
&lt;p&gt;Un exemple de script très simple pour créer un calendrier de COS &lt;strong&gt;non optimisé&lt;/strong&gt; en python est disponible &lt;a href=&#34;https://github.com/Bureau-du-Forestier-en-chef/FMT/blob/3ebc304ca488bf10039b1843e6e31fc197493d47/Examples/Python/Operatingareascheduling.py&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;à cette adresse&lt;/a&gt;. Ce script ne fait que générer une première version non optimisée d&amp;rsquo;un calendrier pour les COS, mais qui est simplement réalisable en fonction des contraintes données.&lt;/p&gt;
&lt;p&gt;Le script suivant est une autre version de ce script qui est intégralement commenté, et qui lance à la fin le &lt;em&gt;greedy algorithm&lt;/em&gt; pour obtenir un calendrier optimisé de COS.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Ici, on charge FMT directement, comme s&#39;il avait été installé avec pip.
from FMT import Models
from FMT import Parser
from FMT import Core
from FMT import Heuristics
from FMT import Version                  


if __name__ == &amp;quot;__main__&amp;quot;:
	# On vérifie que FMT possède bien les fonctions nécessaires pour ce script
	if Version.FMTversion().hasfeature(&amp;quot;OSI&amp;quot;):
		# Definition du chemin menant au modèle woodstock
		primarylocation = &amp;quot;../Models/TWD_land/TWD_land.pri&amp;quot;
		# Création d&#39;un objet pour lire le modèle (parser)
		modelparser = Parser.FMTmodelparser()
		# On lit le model grâce au parser.
		models = modelparser.readproject(primarylocation,[&amp;quot;LP&amp;quot;])
		# On désactive le log pour ce modèle (optionel)
		models[0].setquietlogger()
		# On charge le modèle parmis la liste des modèles renvoyés
		optimizationmodel=Models.FMTlpmodel(models[0],Models.FMTsolverinterface.CLP)
		# On récupère les thèmes du modèle
		themes = optimizationmodel.getthemes()
		# On créé une liste que l&#39;on va remplir avec les opératings areas
		opareas = []
		# Pour chacun des numéros de COS présent dans les thèmes, on créer une COS que l&#39;on met dans la liste
		for attribute in themes[2].getattributes(&amp;quot;?&amp;quot;):
			mask = [&amp;quot;?&amp;quot; for theme in themes]
			mask[2] = attribute
			# On créer le COS avec le masque qui sélectionne les peuplements avec les numéros de COS
			# On utilise un opening time de 2, un return time de 1, une reptition de 4, une green up period de 0, et une starting period de 1.
			opareas.append(Heuristics.FMToperatingareascheme(Heuristics.FMToperatingarea(Core.FMTmask(mask,themes),0),2,1,4,0,1))
		# Les lignes suivantes vont trouver une solution initiale au modèle, sans calendrier de COS. Voir bases de FMT.
		for period in range(0,10):
				print(optimizationmodel.buildperiod())
		allconstraints = optimizationmodel.getconstraints()
		objective = allconstraints.pop(0)
		for constraint in allconstraints:
				optimizationmodel.setconstraint(constraint)
		optimizationmodel.setobjective(objective)
		optimizationmodel.initialsolve()
		# On récupère les output nodes du modèle nécessaires pour créer un calendrier de COS grace aux actions qu&#39;ils contiennent
		nodeofoutput = None
		for output in optimizationmodel.getoutputs():
				if &amp;quot;OSUPREC&amp;quot; == output.getname():
					  nodeofoutput = output.getnodes(optimizationmodel.getarea(),optimizationmodel.getactions(),optimizationmodel.getyields())[0]
					  break;
		# On finit en définissant les paramètres nécessaires pour lancer le greedy algorithm : l&#39;endroit ou mettre les outputs, et le temps maximal et le nombre d&#39;itérations maximales pour l&#39;algorithme.
		outputsLocation = &amp;quot;./Outputs/outputCalendrier&amp;quot;
		maximumIterations = 30
		maximumTime = 1209600 # Temps maximum en seconde; ici, cela correspond à deux semaines.
        # On créer l&#39;objet qui contient la tâche à lancer avec le greedy algorithm
        maintask = Parallel.FMTopareaschedulertask(optimizationmodel, opeareas, outputsLocation, &amp;quot;YOUVERT&amp;quot;, maximumIterations, maximumTime)
        # On met la tâche au sein d&#39;un objet qui gère le lancement des tâches en parallèle dans FMT
        handler = Parallel.FMTtaskhandler(maintask,self.thr)
        # On active l&#39;enregistrement du log de la tâche
        handler.settasklogger()
        # on lance la tâche du greedy algorithm en parralèle
        handler.conccurentrun()
	else:
		print(&amp;quot;FMT needs to be compiled with OSI&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>
